(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{201:function(e,t,a){},357:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),i=a.n(c),s=a(32),o=a(9),l=a(69),u=a(152),d=a(3),j="GET_ALL_PRODUCTS",b="GET_PRODUCTS",p="GET_PRODUCTS_BY_CATEGORY",h="UPDATE_SEARCHING",m="UPDATE_CATEOGRY",O="UPDATE_SORT",f="FAILED_SEARCH",x={products:[],nextPage:"",pages:"",page:"",searched:"",order:"ASC",filter:"name",categories:[],category:"",review:""},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case j:return Object(d.a)(Object(d.a)({},e),{},{products:t.payload.products,nextPage:t.payload.nextPage?t.payload.nextPage:"",page:t.payload.pageNumber,pages:t.payload.pages,categories:t.payload.categories,order:"ASC",filter:"name"});case b:return Object(d.a)(Object(d.a)({},e),{},{products:t.payload.products,nextPage:t.payload.nextPage?t.payload.nextPage:"",page:t.payload.pageNumber,pages:t.payload.pages,categories:t.payload.categories});case p:return Object(d.a)(Object(d.a)({},e),{},{products:t.payload.products,nextPage:t.payload.nextPage?t.payload.nextPage:"",page:t.payload.pageNumber,pages:t.payload.pages});case h:return Object(d.a)(Object(d.a)({},e),{},{searched:t.payload});case O:return Object(d.a)(Object(d.a)({},e),{},{order:t.payload.order,filter:t.payload.filter});case m:return Object(d.a)(Object(d.a)({},e),{},{category:t.payload});case f:return Object(d.a)(Object(d.a)({},e),{},{products:"",nextPage:"",page:"",pages:"",categories:""});default:return Object(d.a)({},e)}},v="SIGN_UP",y="SIGN_IN",C="GOOGLE_AUTH",w="LOG_OUT",k="AUTH_ERROR",N="GET_USER_DATA",S="INIT_TWOFA",A="FINISH_TWOFA",I="FAIL_TWOFA_ATTEMPT",R="SET_USER_ORDERS",E={logged:!1,authMessage:"",user:null,orders:[],twofa:{status:!1,attempts:0}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case y:case v:case C:return Object(d.a)(Object(d.a)({},e),{},{logged:!0});case w:return Object(d.a)(Object(d.a)({},e),{},{logged:!1,user:null});case k:return Object(d.a)(Object(d.a)({},e),{},{authMessage:t.payload});case N:return Object(d.a)(Object(d.a)({},e),{},{logged:!0,user:t.payload});case R:return Object(d.a)(Object(d.a)({},e),{},{orders:t.payload});case S:return Object(d.a)(Object(d.a)({},e),{},{twofa:Object(d.a)(Object(d.a)({},e.twofa),{},{attempts:0,status:!0})});case A:return Object(d.a)(Object(d.a)({},e),{},{authMessage:"",twofa:Object(d.a)(Object(d.a)({},e.twofa),{},{status:!1,attempts:0})});case I:return Object(d.a)(Object(d.a)({},e),{},{twofa:Object(d.a)(Object(d.a)({},e.twofa),{},{attempts:e.twofa.attempts+1})});default:return Object(d.a)({},e)}},D=a(24),T="GET_CATEGORIES",z="CREATE_CATEGORY",B="ADD_URL_TO_DELETE",L="GET_ORDERS",M="GET_USERS",_="GET_ALL_CATEGORIES",U={categories:[],allCategories:[],categoriesPages:"",categoriesPage:"",orders:[],orderPages:"",orderPage:"",users:[],userPages:"",userPage:"",imagesToDelete:[]},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case T:return Object(d.a)(Object(d.a)({},e),{},{categories:t.payload.categories,categoriesPages:t.payload.pages,categoriesPage:t.payload.page});case z:return Object(d.a)(Object(d.a)({},e),{},{categories:[].concat(Object(D.a)(e.categories),[t.payload])});case B:return Object(d.a)(Object(d.a)({},e),{},{imagesToDelete:[].concat(Object(D.a)(e.imagesToDelete),[t.payload])});case L:return Object(d.a)(Object(d.a)({},e),{},{orders:t.payload.data.orders,orderPage:t.payload.data.page,orderPages:t.payload.data.pages});case M:return Object(d.a)(Object(d.a)({},e),{},{users:t.payload.data.users,userPage:t.payload.data.page,userPages:t.payload.data.pages});case _:return Object(d.a)(Object(d.a)({},e),{},{allCategories:t.payload});default:return Object(d.a)({},e)}},F="SET_CHECKOUT_CART",H="SET_CHECKOUT_SUBTOTAL",Y="SET_CHECKOUT_CUSTOMER_INFORMATION",G="SET_MERCADOPAGO_ORDER",q="CONFIRM_STRIPE_PAYMENT",J="CONFIRM_PAYMENT",Q="SET_LOADING_TRUE",K="SET_LOADING_FALSE",Z="SET_CHECKOUT_ERROR_MESSAGE",V="SET_CONFIRM_ORDER_SUCCESS_MESSAGE",X="SET_CONFIRM_ORDER_ERROR_MESSAGE",$="CLEAR_CHECKOUT_DATA",ee={subtotal:0,customerInformation:{street:"",neighborhood:"",city:"",zip:""},paymentState:!1,url:"",id:"",payment:{state:!1,method:"",errorMessage:"",loading:!1},confirmOrder:{success:"",error:""}},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case F:return Object(d.a)(Object(d.a)({},e),{},{cart:t.payload});case $:return{subtotal:0,customerInformation:{street:"",neighborhood:"",city:"",zip:""},paymentState:!1,url:"",id:"",payment:{state:!1,method:"",errorMessage:"",loading:!1},confirmOrder:{success:"",error:""}};case H:return Object(d.a)(Object(d.a)({},e),{},{subtotal:t.payload});case Y:return Object(d.a)(Object(d.a)({},e),{},{customerInformation:t.payload});case G:return Object(d.a)(Object(d.a)({},e),{},{url:t.payload.url,id:t.payload.id});case J:return Object(d.a)(Object(d.a)({},e),{},{payment:Object(d.a)(Object(d.a)({},e.payment),{},{state:!0,method:t.payload.paymentMethod,loading:!1})});case q:return Object(d.a)(Object(d.a)({},e),{},{payment:Object(d.a)(Object(d.a)({},e.payment),{},{state:!0,method:"Stripe",loading:!1})});case Q:return Object(d.a)(Object(d.a)({},e),{},{payment:Object(d.a)(Object(d.a)({},e.payment),{},{loading:!0})});case K:return Object(d.a)(Object(d.a)({},e),{},{payment:Object(d.a)(Object(d.a)({},e.payment),{},{loading:!1})});case Z:return Object(d.a)(Object(d.a)({},e),{},{payment:Object(d.a)(Object(d.a)({},e.payment),{},{errorMessage:t.payload})});case V:return Object(d.a)(Object(d.a)({},ee),{},{confirmOrder:Object(d.a)(Object(d.a)({},ee.confirmOrder),{},{success:t.payload})});case X:return Object(d.a)(Object(d.a)({},e),{},{confirmOrder:Object(d.a)(Object(d.a)({},e.confirmOrder),{},{error:t.payload})});default:return Object(d.a)({},e)}},ae="CLEAR_CART",ne="SET_CART",re={cart:[]},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case ne:return Object(d.a)(Object(d.a)({},e),{},{cart:t.payload.sort((function(e,t){return e.id-t.id}))});case ae:return Object(d.a)(Object(d.a)({},e),{},{cart:[]});default:return Object(d.a)({},e)}},ie="ADD_TO_FAVORITES",se="GET_FAVORITES",oe="DELETE_FAVORITE",le={favorites:[]},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case se:return Object(d.a)(Object(d.a)({},e),{},{favorites:t.payload});case ie:return Object(d.a)(Object(d.a)({},e),{},{favorites:[].concat(Object(D.a)(e.favorites),[t.payload])});case oe:return Object(d.a)(Object(d.a)({},e),{},{favorites:e.favorites.filter((function(e){return e.id!==t.payload}))});default:return Object(d.a)({},e)}},de=Object(l.combineReducers)({adminReducer:W,homeReducer:g,authenticationReducer:P,checkoutReducer:te,cartReducer:ce,wishlistReducer:ue}),je=a(153),be=Object(l.createStore)(de,Object(u.composeWithDevTools)(Object(l.applyMiddleware)(je.a))),pe=(a(201),a(6)),he=a(29),me=a(401),Oe=a(403),fe=a(49),xe=a(405),ge=a(406),ve=a(404),ye=a(407),Ce=a(408),we=a(13),ke=a(399),Ne=Object(ke.a)((function(e){return{root:{},logo:{marginRight:e.spacing(2)},button:Object(we.a)({background:e.palette.primary.dark,variant:"contained",color:"white",marginLeft:e.spacing(2),marginRight:e.spacing(1),borderRadius:5},e.breakpoints.down("sm"),{margin:0,marginLeft:e.spacing(1)}),buttonUser:Object(we.a)({background:e.palette.primary.dark,variant:"contained",color:"white",marginLeft:e.spacing(2),marginRight:e.spacing(2),borderRadius:5},e.breakpoints.down("sm"),{marginLeft:e.spacing(1)}),title:Object(we.a)({flexGrow:1,display:"inline-block"},e.breakpoints.down("sm"),{display:"none"}),link:{textDecoration:"none",color:"white"},div:Object(we.a)({position:"absolute;right:0;top:0",marginTop:e.spacing(2),marginRight:e.spacing(1)},e.breakpoints.down("sm"),{margin:e.spacing(1)})}})),Se=a(11),Ae=a.n(Se),Ie=a(18),Re=a(14),Ee=a.n(Re);function Pe(e){return function(){var t=Object(Ie.a)(Ae.a.mark((function t(a){var n,r;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.a.post("http://143.244.150.246/api/signin/twofa/email",Object(d.a)({},e));case 3:n=t.sent,r=n.data.data,console.log(r),r&&a({type:S}),t.next=16;break;case 9:if(t.prev=9,t.t0=t.catch(0),!t.t0.response||!t.t0.response.data.data.message){t.next=14;break}return a({type:k,payload:t.t0.response.data.data.message}),t.abrupt("return",setTimeout((function(){return a({type:k,payload:""})}),4e3));case 14:return a({type:k,payload:"Sorry, we couldn`t connect to the server"}),t.abrupt("return",setTimeout((function(){return a({type:k,payload:""})}),4e3));case 16:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}function De(e){return function(){var t=Object(Ie.a)(Ae.a.mark((function t(a){var n,r,c;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log(),t.next=4,Ee.a.get("http://143.244.150.246/api/user/data",{headers:{Authorization:e}});case 4:return r=t.sent,c=r.data.data,t.next=8,a({type:N,payload:c.userData});case 8:if(c.orders&&a({type:R,payload:c.orders}),c.shippingAddress&&a({type:Y,payload:c.shippingAddress}),c.total&&a({type:H,payload:c.total}),"paid"===(null===(n=c.paymentStatus)||void 0===n?void 0:n.status)&&a({type:J,payload:c.paymentStatus}),!c.cart){t.next=14;break}return t.abrupt("return",a({type:ne,payload:c.cart}));case 14:a({type:ne,payload:[]}),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),console.log(t.t0);case 20:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(e){return t.apply(this,arguments)}}()}var Te=function(){return function(e){e({type:w}),e({type:ne,payload:[]})}};function ze(e,t){var a={cart:t};return function(){var t=Object(Ie.a)(Ae.a.mark((function t(n){return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.a.post("http://143.244.150.246/api/googleAuth/setnewcart",a,{headers:{Authorization:e}});case 3:t.sent&&(n({type:C}),localStorage.removeItem("cart")),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}function Be(e){var t=JSON.parse(localStorage.getItem("cart"));return function(){var a=Object(Ie.a)(Ae.a.mark((function a(n){return Ae.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Ee.a.post("http://143.244.150.246/api/googleAuth/getcart",{localCart:t},{headers:{Authorization:e}});case 3:a.sent&&(n({type:C}),localStorage.removeItem("cart")),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}var Le=a(1);function Me(){var e=Ne(),t=Object(he.e)(),a=Object(o.c)((function(e){return Object(d.a)({},e.authenticationReducer)})),r=a.logged,c=a.user,i=Object(o.c)((function(e){return Object(d.a)({},e.cartReducer)})).cart,l=Object(o.b)(),u=localStorage.getItem("jwt"),j=Object(n.useState)(0),b=Object(pe.a)(j,2),p=b[0],h=b[1];return Object(n.useEffect)((function(){if(h(i.length),r)return h(i.length);var e=JSON.parse(localStorage.getItem("cart"));e&&h(e.length)}),[i]),Object(n.useEffect)((function(){h(i.length);var e=localStorage.getItem("jwt");e&&!r&&l(De(e))}),[]),Object(n.useEffect)((function(){var e=localStorage.getItem("jwt");e&&r&&l(De(e))}),[r]),Object(n.useEffect)((function(){c&&"admin"===c.role&&t.push("/admin")}),[c]),Object(Le.jsx)("div",{className:e.root,children:Object(Le.jsx)(me.a,{position:"static",color:"primary",children:Object(Le.jsxs)(Oe.a,{children:[Object(Le.jsxs)(s.b,{to:"/",className:e.link,children:[Object(Le.jsx)(ve.a,{className:e.logo}),Object(Le.jsx)(fe.a,{variant:"h3",className:e.title,children:"Onion"})]}),Object(Le.jsxs)("div",{className:e.div,children:[Object(Le.jsx)(s.b,{to:"/cart",children:Object(Le.jsx)(xe.a,{color:"error",badgeContent:p,children:Object(Le.jsx)(ge.a,{className:e.button,children:Object(Le.jsx)(ye.a,{})})})}),u&&c?Object(Le.jsx)(s.b,{to:"admin"===c.role||"staff"===c.role?"/admin":"/user",children:Object(Le.jsx)(ge.a,{variant:"contained",color:"secondary",className:e.buttonUser,startIcon:Object(Le.jsx)(Ce.a,{}),children:"admin"===c.role||"staff"===c.role?"Admin":c.name})}):Object(Le.jsx)(s.b,{to:"/authentication",children:Object(Le.jsx)(ge.a,{className:e.button,children:"Login/Register"})})]})]})})})}var _e=a(446),Ue=a(417),We=a(413),Fe=a(471),He=a(438),Ye=a(439),Ge=a(448),qe=a(425),Je=a(473),Qe=a(423),Ke=a(449),Ze=Object(ke.a)((function(e){return{container:Object(we.a)({marginTop:"3%",marginBottom:"3%",height:e.spacing(100)},e.breakpoints.down("sm"),{marginTop:e.spacing(1),height:e.spacing(90)}),slide:{padding:e.spacing(50),marginLeft:"5%",backgroundColor:e.palette.secondary.main},button:{background:e.palette.primary.dark,width:200,variant:"contained",color:"white",borderRadius:5,margin:e.spacing(1)},filterGrid:Object(we.a)({backgroundColor:e.palette.primary.main,borderRadius:e.shape.borderRadius,marginRight:e.spacing(2),boxShadow:"1px 1px 8px -1px rgba(0,0,0,0.6)",maxWidth:"70%"},e.breakpoints.down("xs"),{display:"none"}),catalogueContainer:{marginLeft:e.spacing(5),height:"57%"},profilePic:{width:e.spacing(10),height:e.spacing(10),margin:10,color:"white"},BoxLogOut:{marginTop:100},quantityInput:{width:75,borderRadius:5,backgroundColor:e.palette.common.white},profile:{border:"solid",borderRadius:e.spacing(5),borderColor:e.palette.primary.main,alignItems:"center",justifyContent:"center"},section:{display:"flex",justifyContent:"center",alignItems:"center"},filter_responsive:Object(we.a)({height:"1%"},e.breakpoints.up("sm"),{display:"none"}),responsive_container:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing(1),minWidth:120},box_responsive:{display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:e.palette.secondary.main,borderRadius:e.shape.borderRadius,marginTop:10}}})),Ve=a(447),Xe=a(411),$e=a(359),et=a(430),tt=a(483),at=a(409),nt=a(431),rt=a(174),ct=a(361),it=a(173),st=a(432),ot=Object(ke.a)((function(e){return{list:{},modal:{display:"flex",alignItems:"center",justifyContent:"center"}}})),lt=Object(ke.a)((function(e){return{root:Object(we.a)({width:750,height:500,backgroundColor:e.palette.secondary.main,borderRadius:e.shape.borderRadius},e.breakpoints.down("xs"),{display:"none"}),container:{display:"flex",height:"100%"},section:Object(we.a)({height:"100%",width:"100%"},e.breakpoints.down("xs"),{width:310,height:200}),scoreContainer:{width:120,marginBottom:6,marginLeft:65},card:Object(we.a)({height:"100%"},e.breakpoints.down("xs"),{width:310,height:350}),name:{marginRight:17},quantityInput:{width:80,borderRadius:5,backgroundColor:e.palette.common.white},closeButton:{margin:0,padding:0},cartTotal:Object(we.a)({marginLeft:25},e.breakpoints.down("xs"),{height:11}),total:{marginBottom:8},favButton:Object(we.a)({width:155,marginBottom:8},e.breakpoints.down("xs"),{width:50,height:50}),favButtonNot:Object(we.a)({visibility:"hidden",width:155},e.breakpoints.down("xs"),{width:50,height:50}),responsive_modal:Object(we.a)({height:700},e.breakpoints.up("sm"),{display:"none"}),responsive_content:{width:300,height:220},cardcontent:{heigth:"100%"},bttn_container:{paddingTop:2}}})),ut=a(412),dt=a(472),jt=Object(ke.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper,position:"relative",overflow:"auto",maxHeight:185,padding:0},listSection:{backgroundColor:"inherit"},ul:{backgroundColor:"inherit",padding:0},notFound:{textAlign:"center"}}})),bt=Object(ke.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper,padding:0},inline:{display:"inline"},divider:{width:"100%"}}})),pt=a(410);function ht(e){var t=e.review,a=bt();return Object(Le.jsxs)(r.a.Fragment,{children:[Object(Le.jsx)($e.a,{className:a.root,alignItems:"flex-start",children:Object(Le.jsx)(at.a,{primary:"Score: ".concat(t.score),secondary:Object(Le.jsxs)(r.a.Fragment,{children:[Object(Le.jsx)(fe.a,{component:"span",variant:"body2",className:a.inline,color:"textPrimary",children:"".concat(t.Person.name," ").concat(t.Person.lastName,": ")}),t.description]})})}),Object(Le.jsx)(pt.a,{component:"li",className:a.divider})]})}function mt(e){var t=e.product,a=jt(),r=Object(n.useState)([]),c=Object(pe.a)(r,2),i=c[0],s=c[1];return Object(n.useEffect)((function(){(function(){var e=Object(Ie.a)(Ae.a.mark((function e(){var a,n;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee.a.get("http://143.244.150.246/api/reviews/getById",{params:{id:t.id}});case 3:a=e.sent,n=a.data.data,s(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(Le.jsx)(Xe.a,{className:a.root,children:i.length>0?i.map((function(e){return Object(Le.jsx)(ht,{review:e})})):Object(Le.jsx)(fe.a,{className:a.notFound,color:"primary",children:"There are no reviews for this product"})})}function Ot(e){var t=e.product,a=ft(),r=Object(n.useState)(0),c=Object(pe.a)(r,2),i=c[0],s=c[1];return Object(Le.jsxs)(Fe.a,{className:a.root,width:"100%",children:[Object(Le.jsxs)(dt.a,{value:i,onChange:function(e,t){s(t)},children:[Object(Le.jsx)(ut.a,{label:"Description"}),Object(Le.jsx)(ut.a,{label:"Reviews"})]}),0===i&&Object(Le.jsx)(We.a,{className:a.tabContainer,children:Object(Le.jsx)(fe.a,{className:a.tabsTypography,children:t.description})}),1===i&&Object(Le.jsx)(We.a,{className:a.tabContainer,children:Object(Le.jsx)(mt,{product:t})})]})}var ft=Object(ke.a)((function(e){return{root:{},tabContainer:Object(we.a)({height:180},e.breakpoints.down("xs"),{height:80,paddingBottom:10}),tabsTypography:{fontSize:16,fontStyle:"italic"}}})),xt=Object(ke.a)((function(e){return{card:{height:"100%"},image:{height:"70%",margin:e.spacing(3)},images:{display:"inline",margin:e.spacing(1),width:"15%",listStyle:"none"},imageSlider:{margin:2}}})),gt=a(414),vt=a(415),yt=a(416),Ct=a(78),wt=Object(ke.a)((function(e){return{imageDis:{display:"flex",flexDirection:"column",position:"relative",justify:"space-between"}}}));function kt(e){var t=e.file,a=(e.onDelete,wt());return Object(Le.jsx)(Ct.a,{className:a.imageDis,variant:"outlined",children:Object(Le.jsx)("img",{width:"50px",src:t.url,alt:"Small Show"})})}function Nt(e){var t=e.product,a=xt(),r=Object(n.useState)(t.Images[0].url),c=Object(pe.a)(r,2),i=c[0],s=c[1];return Object(Le.jsxs)(gt.a,{className:a.card,children:[Object(Le.jsx)(vt.a,{className:a.image,title:t.name,image:i}),Object(Le.jsx)("ul",{children:t.Images.map((function(e){return Object(Le.jsx)(yt.a,{onClick:function(){return s(e.url)},className:a.images,children:Object(Le.jsx)("li",{className:a.imageSlider,children:Object(Le.jsx)(kt,{file:e})},e.id)})}))})]})}var St=a(418),At=a(480),It=a(479),Rt=a(476),Et=a(419),Pt=a(420),Dt=a(421),Tt=a(422);function zt(e){for(var t=[],a=1;a<=e;a++)t.push(a);return t}var Bt="http://143.244.150.246/api",Lt=function(e,t){var a=localStorage.getItem("jwt");return function(){var n=Object(Ie.a)(Ae.a.mark((function n(r){var c;return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ee.a.put(Bt+"/cart/modify",{product:e,quantity:t},{headers:{Authorization:a}});case 3:c=n.sent,r({type:ne,payload:c.data.data.cart}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},Mt=function(){var e=JSON.parse(localStorage.getItem("cart"));return e||(e=[]),{type:ne,payload:e}},_t="http://143.244.150.246/api",Ut=function(e,t){return function(a){return Ee.a.post(_t+"/favorites",{params:{product:e,userEmail:t}}).then((function(e){return e.data})).then((function(e){a({type:ie,payload:e.data})})).catch((function(e){return console.log(e)}))}},Wt=function(e){return function(t){return Ee.a.get(_t+"/favorites",{params:{userEmail:e}}).then((function(e){return e.data})).then((function(e){t({type:se,payload:e.data})})).catch((function(e){return console.log(e)}))}};function Ft(e){var t=e.product,a=e.scoreArray,r=e.setModalState,c=lt(),i=Object(o.b)(),s=Object(o.c)((function(e){return Object(d.a)({},e.checkoutReducer)})).payment,l=Object(o.c)((function(e){return Object(d.a)({},e.authenticationReducer)})),u=l.logged,j=l.user,b=Object(o.c)((function(e){return Object(d.a)({},e.cartReducer)})).cart,p=Object(o.c)((function(e){return Object(d.a)({},e.wishlistReducer)})).favorites,h=Object(n.useState)(1),m=Object(pe.a)(h,2),O=m[0],f=m[1],x=Object(n.useState)(0),g=Object(pe.a)(x,2),v=g[0],y=g[1],C=Object(n.useState)(!1),w=Object(pe.a)(C,2),k=w[0],N=w[1],S=Object(n.useState)(!1),A=Object(pe.a)(S,2),I=A[0],R=A[1],E=Object(n.useState)(!1),P=Object(pe.a)(E,2),D=P[0],T=P[1],z=Object(n.useState)(!1),B=Object(pe.a)(z,2),L=B[0],M=B[1],_=Object(n.useState)(!1),U=Object(pe.a)(_,2),W=U[0],F=U[1];function H(e,t,a){return s.state?T(!0):v===e.stock?R(!0):u?(i(function(e,t){var a=localStorage.getItem("jwt");return function(){var n=Object(Ie.a)(Ae.a.mark((function n(r){var c;return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ee.a.post(Bt+"/cart/add",{product:e,quantity:t},{headers:{Authorization:a}});case 3:c=n.sent,console.log(c.data),r({type:ne,payload:c.data.data.cart}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(e,t)),a(1),void N(!0)):(function(e,t,a){var n,r=localStorage.getItem("cart");if(r||(n=[Object(d.a)(Object(d.a)({},e),{},{quantity:t})]),r){var c=(n=JSON.parse(r)).findIndex((function(t){return t.id===e.id}));-1!==c&&(n[c].quantity=n[c].quantity+t),-1===c&&n.push(Object(d.a)(Object(d.a)({},e),{},{quantity:t}))}var i=JSON.stringify(n);localStorage.setItem("cart",i),a(1)}(e,t,a),i(Mt()),N(!0))}function Y(e){return G.apply(this,arguments)}function G(){return(G=Object(Ie.a)(Ae.a.mark((function e(t){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p.find((function(e){return e.id===t.id}))){e.next=2;break}return e.abrupt("return",F(!0));case 2:i(Ut(t,j.email)),M(!0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=b.find((function(e){return e.id===t.id}));e&&y(e.quantity)}),[]),Object(n.useEffect)((function(){var e=b.find((function(e){return e.id===t.id}));e&&y(e.quantity)}),[b]),Object(n.useEffect)((function(){j&&i(Wt(j.email))}),[]),Object(Le.jsxs)(Ue.a,{container:!0,justify:"center",children:[Object(Le.jsx)(Ct.a,{className:c.root,align:"center",elevation:24,variant:"elevation",children:Object(Le.jsxs)(Ue.a,{className:c.container,justifyContent:"center",alignItems:"center",children:[Object(Le.jsx)(Ue.a,{className:c.section,children:Object(Le.jsx)(Nt,{product:t})}),Object(Le.jsx)(Ue.a,{className:c.section,children:Object(Le.jsxs)(gt.a,{className:c.card,children:[Object(Le.jsxs)(We.a,{children:[Object(Le.jsxs)(Fe.a,{className:c.container,display:"flex",justifyContent:"space-between",alignItems:"flex-start",children:[Object(Le.jsx)(fe.a,{className:c.name,gutterBottom:!1,variant:"h6",color:"initial",children:t.name}),Object(Le.jsx)(St.a,{color:"initial","aria-label":"close",component:"span",className:c.closeButton,onClick:function(){return r(!1)},children:Object(Le.jsx)(Et.a,{})})]}),Object(Le.jsxs)(Fe.a,{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",children:[Object(Le.jsxs)(fe.a,{variant:"h5",color:"initial",display:"inline",children:["$",t.price]}),Object(Le.jsx)(Fe.a,{display:"flex",justifyContent:"center",className:c.scoreContainer,children:a.map((function(e){return Object(Le.jsx)(Pt.a,{color:"white"},e)}))})]})]}),Object(Le.jsx)(pt.a,{}),Object(Le.jsx)(Ot,{product:t}),Object(Le.jsx)(pt.a,{}),Object(Le.jsx)(We.a,{className:c.bttn_container,children:Object(Le.jsxs)(Fe.a,{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",mt:1,children:[Object(Le.jsxs)(Fe.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[Object(Le.jsx)(ge.a,{className:u?c.favButton:c.favButtonNot,variant:"outlined",color:"initial",startIcon:Object(Le.jsx)(Dt.a,{}),onClick:function(){return Y(t)},children:"favourites"}),Object(Le.jsx)(ge.a,{disabled:0===t.stock,variant:"outlined",color:"initial",startIcon:Object(Le.jsx)(Tt.a,{}),onClick:function(){return H(t,O,f)},children:"add to cart"})]}),Object(Le.jsxs)(Fe.a,{className:c.cartTotal,display:"flex",flexDirection:"column-reverse",justifyContent:"center",alignItems:"center",children:[0!==t.stock?Object(Le.jsx)(At.a,{size:"small",value:v===t.stock?0:O,onChange:function(e){return 0===Number(e.target.value)?f(1):Number(e.target.value)>t.stock-v?f(t.stock-v):void f(Number(e.target.value))},className:c.quantityInput,type:"number",InputLabelProps:{shrink:!0},InputProps:{inputProps:{max:t.stock-v,min:1}},variant:"outlined"}):void 0,0!==t.stock?Object(Le.jsxs)(fe.a,{variant:"subtitle5",color:"initial",display:"inline",children:["$",(t.price*O).toFixed(2)]}):Object(Le.jsx)(fe.a,{variant:"h6",color:"primary",display:"inline",children:"No stock"})]})]})})]})})]})}),Object(Le.jsxs)(Ue.a,{className:c.responsive_modal,children:[Object(Le.jsx)(Ue.a,{className:c.section,children:Object(Le.jsx)(Nt,{product:t})}),Object(Le.jsx)(Ue.a,{className:c.responsive_content,children:Object(Le.jsxs)(gt.a,{className:c.card,children:[Object(Le.jsxs)(We.a,{className:c.cardcontent,children:[Object(Le.jsxs)(Fe.a,{className:c.container,display:"flex",justifyContent:"center",alignItems:"flex-start",children:[Object(Le.jsx)(fe.a,{className:c.name,gutterBottom:!1,variant:"subtitle1",color:"initial",children:t.name}),Object(Le.jsx)(St.a,{color:"initial","aria-label":"close",component:"span",className:c.closeButton,onClick:function(){return r(!1)},children:Object(Le.jsx)(Et.a,{})})]}),Object(Le.jsxs)(Fe.a,{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",children:[Object(Le.jsxs)(fe.a,{variant:"subtitle5",color:"initial",display:"inline",children:["$",t.price]}),Object(Le.jsx)(Fe.a,{display:"flex",justifyContent:"center",className:c.scoreContainer,children:a.map((function(e){return Object(Le.jsx)(Pt.a,{color:"white"},e)}))})]})]}),Object(Le.jsx)(pt.a,{}),Object(Le.jsx)(Ot,{product:t}),Object(Le.jsx)(pt.a,{}),Object(Le.jsx)(We.a,{className:c.bttn_container,children:Object(Le.jsxs)(Fe.a,{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",children:[Object(Le.jsxs)(Fe.a,{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",children:[Object(Le.jsx)(ge.a,{className:c.favButton,variant:"outlined",color:"initial",startIcon:Object(Le.jsx)(Dt.a,{}),onClick:function(){return Y(t)}}),Object(Le.jsx)(ge.a,{variant:"outlined",className:c.favButton,color:"initial",startIcon:Object(Le.jsx)(Tt.a,{}),onClick:function(){return H(t,O,f)}})]}),Object(Le.jsxs)(Fe.a,{className:c.cartTotal,display:"flex",flexDirection:"column-reverse",justifyContent:"center",alignItems:"center",children:[Object(Le.jsx)(At.a,{size:"small",value:v===t.stock?0:O,onChange:function(e){return 0===Number(e.target.value)?f(1):Number(e.target.value)>t.stock-v?f(t.stock-v):void f(Number(e.target.value))},className:c.quantityInput,type:"number",InputLabelProps:{shrink:!0},InputProps:{inputProps:{max:t.stock-v,min:1}},variant:"outlined"}),0!==t.stock?Object(Le.jsxs)(fe.a,{variant:"subtitle5",color:"initial",display:"inline",children:["$",(t.price*O).toFixed(2)," "]}):Object(Le.jsx)(fe.a,{variant:"subtitle5",color:"primary",display:"inline",children:"No stock"})]})]})})]})})]}),Object(Le.jsx)(It.a,{open:k,autoHideDuration:3e3,onClose:function(){return N(!1)},variant:"filled",children:Object(Le.jsx)(Rt.a,{onClose:function(){return N(!1)},severity:"success",children:"The product was successfully added to the cart!"})}),Object(Le.jsx)(It.a,{open:I,autoHideDuration:3e3,onClose:function(){return R(!1)},variant:"filled",children:Object(Le.jsx)(Rt.a,{onClose:function(){return R(!1)},severity:"error",children:"You already have all our avaible stock in your cart, we'll have more soon."})}),Object(Le.jsx)(It.a,{open:D,autoHideDuration:3e3,onClose:function(){return T(!1)},variant:"filled",children:Object(Le.jsx)(Rt.a,{onClose:function(){return T(!1)},severity:"error",children:"Please confirm yor active paid order, before add a new product to the cart"})}),Object(Le.jsx)(It.a,{open:L,autoHideDuration:3e3,onClose:function(){return M(!1)},variant:"filled",children:Object(Le.jsx)(Rt.a,{onClose:function(){return M(!1)},severity:"success",children:"The product was successfully added to favourites!"})}),Object(Le.jsx)(It.a,{open:W,autoHideDuration:3e3,onClose:function(){return F(!1)},variant:"filled",children:Object(Le.jsx)(Rt.a,{onClose:function(){return F(!1)},severity:"info",children:"The product is already in favourites!"})})]})}var Ht=a(426),Yt=Object(ke.a)((function(e){return{container:{backgroundColor:e.palette.common.white,borderRadius:e.shape.borderRadius,width:400,height:400},title:{marginTop:30,marginBottom:20},name:{marginRight:18},image:{marginLeft:20,marginRight:20},input:{width:"90%",margin:20}}})),Gt=a(428),qt=a(429);function Jt(e){var t={},a=function(e){var t=[];if(e||t.push("A review description is required"),e&&!/^.{20,}$/.test(e)&&t.push("Review description must be 20 characters minimum"),t.length>0)return t}(e.description);a&&(t.description=a);var n=function(e){var t=[];if(e||t.push("Please rate the product"),t.length>0)return t}(e.score);return n&&(t.score=n),t}var Qt="http://143.244.150.246/api";function Kt(){return function(e){return Ee.a.get(Qt+"/products").then((function(e){return e.data})).then((function(t){e({type:j,payload:t.data})})).catch((function(e){return console.log(e)}))}}function Zt(e){return function(t){return Ee.a.get(Qt+"/products",{params:e}).then((function(e){return e.data})).then((function(e){t({type:p,payload:e.data})})).catch((function(e){return t({type:f})}))}}function Vt(e){return function(t){return Ee.a.get(Qt+"/products",{params:e}).then((function(e){return e.data})).then((function(e){t({type:b,payload:e.data})})).catch((function(e){return t({type:f})}))}}var Xt=function(e){return{type:h,payload:e}},$t=function(e){return{type:m,payload:e}};function ea(e){var t=e.productData,a=e.order,r=e.setProductsData,c=e.setProductReviewModalState,i="http://143.244.150.246/api",s=Yt(),l=Object(o.b)(),u=zt(5),j=Object(n.useState)({score:0,description:""}),b=Object(pe.a)(j,2),p=b[0],h=b[1],m=Object(n.useState)([]),O=Object(pe.a)(m,2),f=O[0],x=O[1],g=Object(n.useState)(!1),v=Object(pe.a)(g,2),y=v[0],C=v[1],w=Object(n.useState)(null),k=Object(pe.a)(w,2),N=k[0],S=k[1];function A(e){h(Object(d.a)(Object(d.a)({},p),{},{score:e}))}function I(){return(I=Object(Ie.a)(Ae.a.mark((function e(n){var s,o,u,j,b,h;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=Jt(p),0!==Object.keys(s).length){e.next=16;break}return o={orderId:a.id,productId:t.product.id,review:p},u=localStorage.getItem("jwt"),e.next=6,Ee.a.post(i+"/reviews/add",Object(d.a)({},o),{headers:{Authorization:u}});case 6:if(j=e.sent,!j.data.data.isNew){e.next=16;break}return e.next=11,Ee.a.post(i+"/orders/products",{order:a},{headers:{Authorization:u}});case 11:b=e.sent,(h=b.data.data.orderData)&&r(h),l(Kt()),c(!1);case 16:return x(Object.values(s).reduce((function(e,t){return[].concat(Object(D.a)(e),Object(D.a)(t))}),[])),C(!0),e.abrupt("return",S(n.currentTarget));case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(Le.jsxs)(Fe.a,{p:2,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",className:s.container,children:[Object(Le.jsx)(fe.a,{className:s.title,variant:"h5",color:"primary",children:"Please review our product: "}),Object(Le.jsxs)(Fe.a,{display:"flex",alignItems:"center",justifyContent:"center",children:[Object(Le.jsx)(tt.a,{src:t.product.Images[0].url,className:s.image}),Object(Le.jsx)(fe.a,{variant:"body1",color:"initial",className:s.name,children:t.product.name})]}),Object(Le.jsx)(Fe.a,{display:"flex",alignItems:"center",justifyContent:"center",children:u.map((function(e){return e<=p.score?Object(Le.jsx)(St.a,{onClick:function(){return A(e)},color:"primary",children:Object(Le.jsx)(Pt.a,{})}):Object(Le.jsx)(St.a,{onClick:function(){return A(e)},color:"primary",children:Object(Le.jsx)(Gt.a,{})})}))}),Object(Le.jsx)(At.a,{id:"review",label:"Review description",name:"description",variant:"outlined",placeholder:"Tell us your impression of the product, max 150 characters",multiline:!0,rows:4,value:p.description,onChange:function(e){h(Object(d.a)(Object(d.a)({},p),{},Object(we.a)({},e.target.name,e.target.value)))},className:s.input,inputProps:{maxLength:150}}),Object(Le.jsx)(ge.a,{size:"small",variant:"contained",color:"primary",className:s.button,endIcon:Object(Le.jsx)(qt.a,{}),onClick:function(e){return function(e){return I.apply(this,arguments)}(e)},children:"submit"}),Object(Le.jsx)(Ht.a,{open:y,anchorEl:N,onClose:function(){return C(!1)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(Le.jsx)(Fe.a,{p:2,children:f&&f.map((function(e){return Object(Le.jsxs)(fe.a,{children:["- ",e]})}))})})]})}function ta(e){var t,a=e.productsData,r=e.order,c=e.setProductsData,i=ot(),s=Object(n.useState)({}),o=Object(pe.a)(s,2),l=o[0],u=o[1],d=Object(n.useState)(!1),j=Object(pe.a)(d,2),b=j[0],p=j[1],h=Object(n.useState)(!1),m=Object(pe.a)(h,2),O=m[0],f=m[1];return Object(Le.jsxs)(Fe.a,{p:1,display:"flex",alignItems:"flex-start",justifyContent:"center",children:[Object(Le.jsxs)(Fe.a,{p:1,width:"100%",children:[Object(Le.jsx)(fe.a,{variant:"h6",color:"initial",children:"Order products:"}),Object(Le.jsx)(Xe.a,{className:i.list,children:null===a||void 0===a?void 0:a.map((function(e){return Object(Le.jsxs)($e.a,{divider:!0,onClick:function(t){return u(e),void p(!0)},button:!0,children:[Object(Le.jsx)(et.a,{children:Object(Le.jsx)(tt.a,{src:e.product.Images[0].url})}),Object(Le.jsx)(at.a,{primary:e.product.name,secondary:"Quantity x ".concat(e.orderProductData.quantity," - Subotal: ").concat(e.orderProductData.subtotal)}),Object(Le.jsx)(nt.a,{children:e.product.Reviews.length>0?Object(Le.jsx)(Fe.a,{children:Object(Le.jsx)(fe.a,{color:"initial",children:"Reviewed"})}):Object(Le.jsx)(ge.a,{size:"small",variant:"contained",color:"primary",className:i.button,endIcon:Object(Le.jsx)(st.a,{}),onClick:function(){return t=e,f(!0),void u(t);var t},disabled:e.product.Reviews.length>0,children:"review"})})]})}))})]}),Object(Le.jsx)(rt.a,{"aria-labelledby":"Product details","aria-describedby":"Product details",className:i.modal,open:b,onClose:function(){return p(!1)},closeAfterTransition:!0,BackdropComponent:ct.a,BackdropProps:{timeout:500},children:Object(Le.jsx)(it.a,{in:b,children:Object(Le.jsx)(Ft,{scoreArray:zt(null===(t=l.product)||void 0===t?void 0:t.score),product:l.product,setModalState:p})})}),Object(Le.jsx)(rt.a,{"aria-labelledby":"Product details","aria-describedby":"Product details",className:i.modal,open:O,onClose:function(){return f(!1)},closeAfterTransition:!0,BackdropComponent:ct.a,BackdropProps:{timeout:500},children:Object(Le.jsx)(it.a,{in:O,children:Object(Le.jsx)(Fe.a,{children:Object(Le.jsx)(ea,{productData:l,order:r,setProductsData:c,setProductReviewModalState:f})})})})]})}var aa=a(433),na=a(434),ra=a(437),ca=a(435),ia=a(436),sa=Object(ke.a)((function(e){return{row:{"&:hover":{cursor:"pointer"}},collapseTableCell:{paddingBottom:0,paddingTop:0},keyIconCell:{width:5,padding:0,paddingLeft:16}}}));function oa(e){return e.charAt(0).toUpperCase()+e.slice(1)}function la(e){var t=e.order,a=e.openOrder,c=e.setOpenOrder,i="http://143.244.150.246/api",s=sa(),o=Object(n.useState)(!1),l=Object(pe.a)(o,2),u=l[0],d=l[1],j=Object(n.useState)([]),b=Object(pe.a)(j,2),p=b[0],h=b[1];function m(){return(m=Object(Ie.a)(Ae.a.mark((function e(a){var n,r,s;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=8;break}return n=localStorage.getItem("jwt"),e.next=4,Ee.a.post(i+"/orders/products",{order:t},{headers:{Authorization:n}});case 4:r=e.sent,s=r.data.data.orderData,c(t.id),s&&h(s);case 8:d(!u);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){a!==t.id&&d(!1)}),[a]),Object(Le.jsxs)(r.a.Fragment,{children:[Object(Le.jsxs)(aa.a,{hover:!0,onClick:function(e){return function(e){return m.apply(this,arguments)}(e)},className:s.row,children:[Object(Le.jsx)(na.a,{className:s.keyIconCell,children:Object(Le.jsx)(St.a,{"aria-label":"expand row",size:"small",children:u?Object(Le.jsx)(ca.a,{}):Object(Le.jsx)(ia.a,{})})}),Object(Le.jsx)(na.a,{align:"center",children:Object(Le.jsx)(Fe.a,{display:"flex",justifyContent:"center",alignItems:"center",children:Object(Le.jsx)(fe.a,{className:s.orderNumber,display:"inline",color:"initial",children:"Order #".concat(t.id)})})}),Object(Le.jsx)(na.a,{align:"center",children:Object(Le.jsx)(fe.a,{children:oa(t.status)})}),Object(Le.jsx)(na.a,{align:"center",children:t.updatedAt.split("T")[0]}),Object(Le.jsxs)(na.a,{align:"center",children:["$",t.total]})]},t.name),Object(Le.jsx)(aa.a,{children:Object(Le.jsx)(na.a,{className:s.collapseTableCell,colSpan:6,children:Object(Le.jsx)(ra.a,{in:u&&a===t.id,timeout:"auto",unmountOnExit:!0,children:Object(Le.jsx)(ta,{order:t,productsData:p,setProductsData:h})})})})]})}var ua=Object(ke.a)((function(e){return{button:{background:e.palette.primary.dark,variant:"contained",color:"white",borderRadius:5,paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},modal:{display:"flex",alignItems:"center",justifyContent:"center"}}}));function da(e){var t=e.onClose,a=e.productsData,r=e.open,c=e.order,i=e.setProductsData,s=ua(),o=Object(n.useState)({}),l=Object(pe.a)(o,2),u=l[0],d=l[1],j=Object(n.useState)(!1),b=Object(pe.a)(j,2),p=b[0],h=b[1];return Object(Le.jsxs)(He.a,{onClose:function(){t()},open:r,children:[Object(Le.jsx)(Ye.a,{id:"review-products",children:"How was your buy?"}),Object(Le.jsx)(Xe.a,{children:a.map((function(e){return Object(Le.jsxs)($e.a,{children:[Object(Le.jsx)(et.a,{children:Object(Le.jsx)(tt.a,{src:e.product.Images[0].url})}),Object(Le.jsx)(at.a,{primary:"".concat(e.product.name.substr(0,20),"...")}),e.product.Reviews.length>0?Object(Le.jsx)(Fe.a,{children:Object(Le.jsx)(fe.a,{color:"initial",children:"Reviewed"})}):Object(Le.jsx)(ge.a,{size:"small",variant:"contained",color:"primary",className:s.button,endIcon:Object(Le.jsx)(st.a,{}),onClick:function(){return t=e,h(!0),void d(t);var t},disabled:e.product.Reviews.length>0,children:"review"}),Object(Le.jsx)(pt.a,{})]},e.product.id)}))}),Object(Le.jsx)(rt.a,{"aria-labelledby":"Product details","aria-describedby":"Product details",className:s.modal,open:p,onClose:function(){return h(!1)},closeAfterTransition:!0,BackdropComponent:ct.a,BackdropProps:{timeout:500},children:Object(Le.jsx)(it.a,{in:p,children:Object(Le.jsx)(Fe.a,{children:Object(Le.jsx)(ea,{productData:u,order:c,setProductsData:i,setProductReviewModalState:h})})})})]})}function ja(e){var t=e.order,a="http://143.244.150.246/api",c=sa(),i=Object(n.useState)([]),s=Object(pe.a)(i,2),o=s[0],l=s[1],u=Object(n.useState)(!1),d=Object(pe.a)(u,2),j=d[0],b=d[1];function p(){return(p=Object(Ie.a)(Ae.a.mark((function e(n){var r,c,i;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("jwt"),e.next=3,Ee.a.post(a+"/orders/products",{order:t},{headers:{Authorization:r}});case 3:c=e.sent,(i=c.data.data.orderData)&&l(i),b(!0);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(Le.jsxs)(r.a.Fragment,{children:[Object(Le.jsxs)(aa.a,{hover:!0,onClick:function(e){return function(e){return p.apply(this,arguments)}(e)},className:c.row,children:[Object(Le.jsx)(na.a,{align:"center",children:Object(Le.jsx)(Fe.a,{display:"flex",justifyContent:"center",alignItems:"center",children:Object(Le.jsx)(fe.a,{className:c.orderNumber,display:"inline",color:"initial",children:t.id})})}),Object(Le.jsx)(na.a,{align:"center",children:Object(Le.jsx)(fe.a,{children:oa(t.status)})}),Object(Le.jsxs)(na.a,{align:"center",children:["$",t.total]})]},t.name),Object(Le.jsx)(da,{order:t,productsData:o,open:j,onClose:function(){b(!1)},setProductsData:l})]})}var ba=a(440),pa=a(441),ha=a(442),ma=a(443),Oa=a(444),fa=Object(ke.a)((function(e){return{container:{backgroundColor:e.palette.secondary.main,borderRadius:e.shape.borderRadius},tableContainer:Object(we.a)({marginBottom:15,maxHeight:600},e.breakpoints.down("sm"),{display:"none"}),tableContainerResponsive:Object(we.a)({},e.breakpoints.up("sm"),{display:"none"}),title:{color:e.palette.secondary.main,fontSize:18,fontWeight:"bold"},row:{"&:hover":{cursor:"pointer"}},productName:{marginLeft:15},head:Object(we.a)({backgroundColor:e.palette.primary.main,position:"sticky",top:0,zIndex:5},e.breakpoints.down("sm"),{zIndex:3}),homeButton:{margin:16}}}));function xa(){var e=Object(o.c)((function(e){return Object(d.a)({},e.authenticationReducer)})).orders,t=Object(he.e)(),a=Object(n.useState)(!1),r=Object(pe.a)(a,2),c=r[0],i=r[1],s=fa();return Object(Le.jsxs)(Fe.a,{className:s.container,p:{xs:0,sm:2},boxShadow:4,children:[Object(Le.jsx)(Fe.a,{my:{xs:0,sm:2},children:Object(Le.jsx)(fe.a,{variant:{xs:"p",sm:"h3"},color:"initial",children:"Orders history: "})}),e&&e.length>0?Object(Le.jsxs)(Fe.a,{children:[Object(Le.jsx)(ba.a,{component:Ct.a,className:s.tableContainer,children:Object(Le.jsxs)(pa.a,{children:[Object(Le.jsx)(ha.a,{className:s.head,children:Object(Le.jsxs)(aa.a,{className:s.headRow,children:[Object(Le.jsx)(na.a,{}),Object(Le.jsx)(na.a,{align:"center",className:s.title,children:"Order number"}),Object(Le.jsx)(na.a,{align:"center",className:s.title,children:"Status"}),Object(Le.jsx)(na.a,{align:"center",className:s.title,children:"Last update"}),Object(Le.jsx)(na.a,{align:"center",className:s.title,children:"Order total"})]})}),Object(Le.jsx)(ma.a,{children:e&&e.map((function(e){return Object(Le.jsx)(la,{order:e,openOrder:c,setOpenOrder:i})}))})]})}),Object(Le.jsx)(ba.a,{component:Ct.a,className:s.tableContainerResponsive,children:Object(Le.jsxs)(pa.a,{children:[Object(Le.jsx)(ha.a,{className:s.head,children:Object(Le.jsxs)(aa.a,{className:s.headRow,children:[Object(Le.jsx)(na.a,{align:"center",className:s.title,children:"Order number"}),Object(Le.jsx)(na.a,{align:"center",className:s.title,children:"Status"}),Object(Le.jsx)(na.a,{align:"center",className:s.title,children:"Order total"})]})}),Object(Le.jsx)(ma.a,{children:e&&e.map((function(e){return Object(Le.jsx)(ja,{order:e})}))})]})})]}):Object(Le.jsxs)(Fe.a,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",children:[Object(Le.jsx)(fe.a,{variant:"h3",color:"initial",children:" You don't have any order, check our catalogue and buy amazing products"}),Object(Le.jsx)(ge.a,{variant:"contained",color:"primary",startIcon:Object(Le.jsx)(Oa.a,{}),className:s.homeButton,onClick:function(e){return t.push("/")},children:"home"})]})]})}var ga=Object(ke.a)((function(e){return{container:{backgroundColor:e.palette.secondary.main,borderRadius:e.shape.borderRadius},profilePic:{width:e.spacing(15),height:e.spacing(15),margin:10,boxShadow:"1px 9px 18px -1px rgba(0,0,0,1)"},name:{margin:20},title:{margin:5,fontWeight:"bold"},titleContent:{margin:5},addAddresButton:{margin:15},modal:{display:"flex",alignItems:"center",justifyContent:"center"}}})),va=a(445),ya=Object(ke.a)((function(e){return{tableContainer:Object(we.a)({marginBottom:15,maxHeight:200},e.breakpoints.down("sm"),{display:"none"}),tableContainerResponsive:Object(we.a)({},e.breakpoints.up("sm"),{display:"none"}),title:{color:e.palette.secondary.main,fontWeight:"bold"},addressTableHead:{backgroundColor:e.palette.primary.main,position:"sticky",top:0,zIndex:5}}}));function Ca(e){var t=e.addresses,a=e.setUserAddresses,n="http://143.244.150.246/api",r=ya();function c(e){return i.apply(this,arguments)}function i(){return(i=Object(Ie.a)(Ae.a.mark((function e(t){var r,c,i;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("jwt"),e.prev=1,e.next=4,Ee.a.put(n+"/shippingaddress/delete",{address:t},{headers:{Authorization:r}});case 4:return c=e.sent,i=c.data.data.userAddresses,e.abrupt("return",a(i));case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return Object(Le.jsxs)(Fe.a,{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",p:1,children:[Object(Le.jsx)(ba.a,{className:r.tableContainer,component:Ct.a,children:Object(Le.jsxs)(pa.a,{size:"small",children:[Object(Le.jsxs)(ha.a,{className:r.addressTableHead,children:[Object(Le.jsx)(na.a,{align:"center",className:r.title,width:"35%",children:"Address"}),Object(Le.jsx)(na.a,{align:"center",className:r.title,width:"20%",children:"Neighborhood"}),Object(Le.jsx)(na.a,{align:"center",className:r.title,width:"20%",children:"City"}),Object(Le.jsx)(na.a,{align:"center",className:r.title,width:"15%",children:"Postal Code"}),Object(Le.jsx)(na.a,{width:"10%"})]}),Object(Le.jsx)(ma.a,{children:t.map((function(e){return Object(Le.jsxs)(aa.a,{className:r.row,children:[Object(Le.jsx)(na.a,{align:"center",children:e.street}),Object(Le.jsx)(na.a,{align:"center",children:e.neighborhood}),Object(Le.jsx)(na.a,{align:"center",children:e.city}),Object(Le.jsx)(na.a,{align:"center",children:e.zip}),Object(Le.jsx)(na.a,{align:"center",children:Object(Le.jsx)(St.a,{size:"small",color:"primary",onClick:function(){return c(e)},children:Object(Le.jsx)(va.a,{})})})]},e.zip)}))})]})}),Object(Le.jsx)(ba.a,{className:r.tableContainerResponsive,component:Ct.a,children:Object(Le.jsxs)(pa.a,{size:"small",children:[Object(Le.jsxs)(ha.a,{className:r.addressTableHead,children:[Object(Le.jsx)(na.a,{align:"center",className:r.title,width:"35%",children:"Address"}),Object(Le.jsx)(na.a,{align:"center",className:r.title,width:"20%",children:"City"}),Object(Le.jsx)(na.a,{width:"10%"})]}),Object(Le.jsx)(ma.a,{children:t.map((function(e){return Object(Le.jsxs)(aa.a,{className:r.row,children:[Object(Le.jsx)(na.a,{align:"center",children:e.street}),Object(Le.jsx)(na.a,{align:"center",children:e.city}),Object(Le.jsx)(na.a,{align:"center",children:Object(Le.jsx)(St.a,{size:"small",color:"primary",onClick:function(){return c(e)},children:Object(Le.jsx)(va.a,{})})})]},e.zip)}))})]})})]})}var wa=Object(ke.a)((function(e){return{root:{width:650,height:400,backgroundColor:e.palette.common.white,borderRadius:e.shape.borderRadius},address:{width:350},zip:{width:120}}}));function ka(e){var t=[];if(e||t.push("An address is required"),e&&!/^[A-Za-z0-9'.-\s,]/.test(e)&&t.push("Address must include only letters and numbers"),t.length>0)return t}function Na(e){var t=[];if(e||t.push("A postal code is required"),e&&!/^[0-9]{5}(?:-[0-9]{4})?$/.test(e)&&t.push("Postal code must have only 4 or 5 numbers"),t.length>0)return t}function Sa(e){var t=[];if(e||t.push("A city is required"),t.length>0)return t}function Aa(e){var t={},a=ka(e.street);a&&(t.street=a);var n=Na(e.zip);n&&(t.zip=n);var r=Sa(e.city);r&&(t.city=r);var c=function(e){var t=[];if(e||t.push("A neighborhood is required"),t.length>0)return t}(e.neighborhood);return c&&(t.neighborhood=c),t}function Ia(e){var t=e.setUserAddresses,a=e.handleCloseModal,c="http://143.244.150.246/api",i=wa(),s=Object(n.useState)({street:"",neighborhood:"",city:"",zip:""}),o=Object(pe.a)(s,2),l=o[0],u=o[1],j=r.a.useState(["initial"]),b=Object(pe.a)(j,2),p=b[0],h=b[1],m=Object(n.useState)(!1),O=Object(pe.a)(m,2),f=O[0],x=O[1],g=Object(n.useState)(null),v=Object(pe.a)(g,2),y=v[0],C=v[1],w=function(e){u(Object(d.a)(Object(d.a)({},l),{},Object(we.a)({},e.target.name,e.target.value)))};function k(){return(k=Object(Ie.a)(Ae.a.mark((function e(n){var r,i,s,o;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r=Aa(l),0!==Object.keys(r).length){e.next=16;break}return i=localStorage.getItem("jwt"),e.prev=4,e.next=7,Ee.a.post(c+"/shippingaddress/add",Object(d.a)({},l),{headers:{Authorization:i}});case 7:return s=e.sent,o=s.data.data.userAddresses,t(o),e.abrupt("return",a());case 13:e.prev=13,e.t0=e.catch(4),console.log(e.t0);case 16:return h(Object.values(r).reduce((function(e,t){return[].concat(Object(D.a)(e),Object(D.a)(t))}),[])),x(!0),e.abrupt("return",C(n.currentTarget));case 19:case"end":return e.stop()}}),e,null,[[4,13]])})))).apply(this,arguments)}return Object(Le.jsx)(Fe.a,{className:i.root,children:Object(Le.jsx)("form",{onSubmit:function(e){return function(e){return k.apply(this,arguments)}(e)},children:Object(Le.jsxs)(Fe.a,{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",m:2,children:[Object(Le.jsx)(Fe.a,{mb:4,children:Object(Le.jsx)(fe.a,{variant:"h3",color:"primary",children:"Add a new addres:"})}),Object(Le.jsx)(Fe.a,{display:"flex",width:"100%",justifyContent:"flex-start",ml:5,children:Object(Le.jsx)(fe.a,{variant:"h6",color:"initial",children:"Please complete all the fields "})}),Object(Le.jsxs)(Fe.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",children:[Object(Le.jsxs)(Fe.a,{display:"flex",justifyContent:"space-between",alignItems:"center",width:"93%",mb:2,mt:3,children:[Object(Le.jsx)(At.a,{className:i.address,name:"street",label:"Address",variant:"outlined",value:l.street,onChange:w,size:"small"}),Object(Le.jsx)(At.a,{name:"zip",label:"Postal code",variant:"outlined",value:l.zip,onChange:w,size:"small"})]}),Object(Le.jsxs)(Fe.a,{display:"flex",justifyContent:"space-between",alignItems:"center",width:"93%",my:1,children:[Object(Le.jsx)(At.a,{name:"neighborhood",label:"Neighborhood",variant:"outlined",value:l.neighborhood,onChange:w,size:"small"}),Object(Le.jsx)(At.a,{name:"city",label:"City",variant:"outlined",value:l.city,onChange:w,size:"small"})]})]}),Object(Le.jsx)(Fe.a,{mt:4,children:Object(Le.jsx)(ge.a,{variant:"contained",color:"primary",type:"submit",children:"submit address"})}),Object(Le.jsx)(Ht.a,{open:f,anchorEl:y,onClose:function(){return x(!1)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(Le.jsx)(Fe.a,{p:2,children:p.map((function(e){return Object(Le.jsxs)(fe.a,{children:["- ",e]})}))})})]})})})}var Ra=Object(ke.a)((function(e){return{root:{width:650,height:400,backgroundColor:e.palette.common.white,borderRadius:e.shape.borderRadius},input:{marginTop:16,width:200}}}));var Ea={name:"",lastName:"",email:"",password:"",confirmPassword:""};var Pa={email:"",password:""};function Da(e){var t=Math.floor(e/60),a=Math.floor(e%60);return a=a<10?"0".concat(a):a,"".concat(t,":").concat(a)}function Ta(e){var t={},a=function(e){var t=[];if(e||t.push("The current password is required"),t.length>0)return t}(e.oldPassword);a&&(t.oldPassword=a);var n=function(e,t){var a=[];if(e||a.push("A new password is required"),e&&!/^.{8,}$/.test(e)&&a.push("Password must be 8 characters long minimum"),e&&!/\d/.test(e)&&a.push("Password must contain at least one number"),e&&!/[A-Z]/.test(e)&&a.push("Password must contain at least an upper case"),e&&e!==t&&a.push("Passwords are different"),a.length>0)return a}(e.newPassword,e.confirmNewPassword);return n&&(t.newPassword=n),t}function za(e){var t=e.handleCloseModal,a="http://143.244.150.246/api",c=Ra(),i=Object(n.useState)({oldPassword:"",newPassword:"",confirmNewPassword:""}),s=Object(pe.a)(i,2),o=s[0],l=s[1],u=r.a.useState(["initial"]),j=Object(pe.a)(u,2),b=j[0],p=j[1],h=Object(n.useState)(!1),m=Object(pe.a)(h,2),O=m[0],f=m[1],x=Object(n.useState)(null),g=Object(pe.a)(x,2),v=g[0],y=g[1],C=Object(n.useState)(""),w=Object(pe.a)(C,2),k=w[0],N=w[1],S=Object(n.useState)(!1),A=Object(pe.a)(S,2),I=A[0],R=A[1],E=Object(n.useState)(!1),P=Object(pe.a)(E,2),T=P[0],z=P[1],B=function(e){l(Object(d.a)(Object(d.a)({},o),{},Object(we.a)({},e.target.name,e.target.value)))};function L(){return(L=Object(Ie.a)(Ae.a.mark((function e(n){var r,c,i,s;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r=Ta(o),0!==Object.keys(r).length){e.next=23;break}return c=localStorage.getItem("jwt"),e.prev=4,e.next=7,Ee.a.post(a+"/user/change_password",{passwords:Object(d.a)({},o)},{headers:{Authorization:c}});case 7:if(i=e.sent,!(s=i.data.data).success){e.next=13;break}return N(s.message),R(!0),e.abrupt("return",setTimeout((function(){return t()}),3e3));case 13:e.next=23;break;case 15:if(e.prev=15,e.t0=e.catch(4),!e.t0.response.data.data.message){e.next=21;break}return l({oldPassword:"",newPassword:"",confirmNewPassword:""}),N(e.t0.response.data.data.message),e.abrupt("return",z(!0));case 21:return l({oldPassword:"",newPassword:"",confirmNewPassword:""}),e.abrupt("return",N("Sorry, we couldn`t connect the server"));case 23:return p(Object.values(r).reduce((function(e,t){return[].concat(Object(D.a)(e),Object(D.a)(t))}),[])),f(!0),e.abrupt("return",y(n.currentTarget));case 26:case"end":return e.stop()}}),e,null,[[4,15]])})))).apply(this,arguments)}return Object(Le.jsxs)(Fe.a,{className:c.root,children:[Object(Le.jsx)("form",{onSubmit:function(e){return function(e){return L.apply(this,arguments)}(e)},children:Object(Le.jsxs)(Fe.a,{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",m:2,children:[Object(Le.jsx)(Fe.a,{mb:4,children:Object(Le.jsx)(fe.a,{variant:"h3",color:"primary",children:"Change your password: "})}),Object(Le.jsx)(Fe.a,{display:"flex",width:"100%",justifyContent:"flex-start",ml:5,children:Object(Le.jsx)(fe.a,{variant:"h6",color:"initial",children:"Don't forget your new password in the next sign in "})}),Object(Le.jsxs)(Fe.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",children:[Object(Le.jsx)(At.a,{className:c.input,name:"oldPassword",label:"Current password",variant:"outlined",value:o.oldPassword,onChange:B,size:"small",type:"password"}),Object(Le.jsx)(At.a,{className:c.input,name:"newPassword",label:"New password",variant:"outlined",value:o.newPassword,onChange:B,size:"small",type:"password"}),Object(Le.jsx)(At.a,{className:c.input,name:"confirmNewPassword",label:"Confirm new password",variant:"outlined",value:o.confirmNewPassword,onChange:B,size:"small",type:"password"})]}),Object(Le.jsx)(Fe.a,{mt:4,children:Object(Le.jsx)(ge.a,{variant:"contained",color:"primary",type:"submit",children:"Change password"})}),Object(Le.jsx)(Ht.a,{open:O,anchorEl:v,onClose:function(){return f(!1)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(Le.jsx)(Fe.a,{p:2,children:b.map((function(e){return Object(Le.jsxs)(fe.a,{children:["- ",e]})}))})})]})}),Object(Le.jsx)(It.a,{open:I,autoHideDuration:3e3,onClose:function(){return R(!0)},variant:"filled",children:Object(Le.jsx)(Rt.a,{onClose:function(){return R(!0)},severity:"success",children:k})}),Object(Le.jsx)(It.a,{open:T,autoHideDuration:3e3,onClose:function(){return z(!1)},variant:"filled",children:Object(Le.jsx)(Rt.a,{onClose:function(){return z(!1)},severity:"error",children:k})})]})}function Ba(e){var t=e.user,a=ga(),r=Object(n.useState)(!1),c=Object(pe.a)(r,2),i=c[0],s=c[1],o=Object(n.useState)(""),l=Object(pe.a)(o,2),u=l[0],d=l[1],j=Object(n.useState)([]),b=Object(pe.a)(j,2),p=b[0],h=b[1];function m(e){d(e),s(!0)}function O(){s(!1),d("")}return Object(n.useEffect)((function(){(function(){var e=Object(Ie.a)(Ae.a.mark((function e(){var t,a,n;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("jwt"),e.prev=1,e.next=4,Ee.a.get("http://143.244.150.246/api/shippingaddress/",{headers:{Authorization:t}});case 4:return a=e.sent,n=a.data.data.userAddresses,e.abrupt("return",h(n));case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(Le.jsxs)(Fe.a,{p:{xs:0,sm:2},boxShadow:4,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",className:a.container,children:[Object(Le.jsxs)(Fe.a,{width:"100%",display:"flex",align:"center",justifyContent:"center",flexDirection:"column",p:{xs:0,sm:4},children:[Object(Le.jsx)(fe.a,{className:a.name,variant:"h4",children:"".concat(null===t||void 0===t?void 0:t.name," ").concat(null===t||void 0===t?void 0:t.lastName)}),Object(Le.jsxs)(Fe.a,{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",children:[Object(Le.jsx)(fe.a,{className:a.title,variant:"h6",children:"email:"}),Object(Le.jsx)(fe.a,{className:a.titleContent,variant:"h6",color:"initial",children:"".concat(null===t||void 0===t?void 0:t.email)})]}),Object(Le.jsx)(ge.a,{className:a.changePassword,variant:"contained",color:"primary",onClick:function(e){return m("password")},children:"change password"}),Object(Le.jsx)(fe.a,{className:a.title,variant:"h6",children:"Saved addresses:"}),Object(Le.jsx)(Fe.a,{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",children:p.length>0?Object(Le.jsx)(Ca,{addresses:p,setUserAddresses:h}):Object(Le.jsx)(fe.a,{variant:"body1",color:"initial",children:" Click in the button to add default addresses to your account"})}),Object(Le.jsx)(ge.a,{className:a.addAddresButton,variant:"contained",color:"primary",onClick:function(){return m("address")},children:"add address"})]}),Object(Le.jsx)(rt.a,{className:a.modal,open:i,onClose:function(){return O()},closeAfterTransition:!0,BackdropComponent:ct.a,BackdropProps:{timeout:500},children:Object(Le.jsx)(it.a,{in:i,children:("address"===u?Object(Le.jsx)(Ia,{setUserAddresses:h,handleCloseModal:O}):"password"===u?Object(Le.jsx)(za,{handleCloseModal:O}):Object(Le.jsx)(Fe.a,{}))||Object(Le.jsx)(fe.a,{children:" Close "})})})]})}var La=Object(ke.a)((function(e){return{generalContainer:Object(we.a)({backgroundColor:e.palette.secondary.main,borderRadius:e.shape.borderRadius,padding:16,boxShadow:"1px 1px 8px -1px rgba(0,0,0,0.6)"},e.breakpoints.down("sm"),{marginTop:64}),table:{backgroundColor:e.palette.common.white,borderRadius:e.shape.borderRadius},tableContainer:{maxHeight:600,backgroundColor:e.palette.common.white,borderRadius:e.shape.borderRadius},header:{color:e.palette.secondary.main,fontSize:18,fontWeight:"bold"},head:Object(we.a)({backgroundColor:e.palette.primary.main,position:"sticky",top:0,zIndex:5},e.breakpoints.down("sm"),{zIndex:3})}})),Ma=Object(ke.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},openDetails:{cursor:"pointer"},image:{boxShadow:"1px 1px 8px -1px rgba(0,0,0,0.6)"}}}));function _a(e){var t=e.favorite,a=e.user,r=Ma(),c=Object(o.b)(),i=Object(n.useState)([]),s=Object(pe.a)(i,2),l=s[0],u=s[1],d=Object(n.useState)(!1),j=Object(pe.a)(d,2),b=j[0],p=j[1];function h(e,t){c(function(e,t){return function(a){return Ee.a.delete(_t+"/favorites",{params:{id:e,userEmail:t}}).then((function(e){return e.data})).then((function(e){a({type:oe,payload:e.data}),a(Wt(t))})).catch((function(e){return console.log(e)}))}}(e,t))}return Object(n.useEffect)((function(){var e=zt(t.score);u(e)}),[]),Object(Le.jsxs)(aa.a,{children:[Object(Le.jsx)(na.a,{padding:"0",className:r.openDetails,onClick:function(){return p(!0)},children:Object(Le.jsx)(tt.a,{src:t.Images[0].url,className:r.image})}),Object(Le.jsx)(na.a,{align:"left",onClick:function(){return p(!0)},className:r.openDetails,children:t.name}),Object(Le.jsx)(na.a,{align:"right",children:Object(Le.jsx)(ge.a,{color:"primary","aria-label":"delete",onClick:function(){return h(t.id,a.email)},children:Object(Le.jsx)(va.a,{})})}),Object(Le.jsx)(rt.a,{"aria-labelledby":"Product details","aria-describedby":"Product details",className:r.modal,open:b,onClose:function(){return p(!1)},closeAfterTransition:!0,BackdropComponent:ct.a,BackdropProps:{timeout:500},children:Object(Le.jsx)(it.a,{in:b,children:Object(Le.jsx)(Ft,{scoreArray:l,product:t,setModalState:p})})})]},t.name)}function Ua(){var e=La(),t=Object(o.b)(),a=Object(o.c)((function(e){return Object(d.a)({},e.authenticationReducer)})).user,r=Object(o.c)((function(e){return Object(d.a)({},e.wishlistReducer)})).favorites,c=Object(he.e)();return Object(n.useEffect)((function(){t(Wt(a.email))}),[]),Object(Le.jsx)(Fe.a,{className:e.generalContainer,children:r&&r.length>0?Object(Le.jsx)(ba.a,{className:e.tableContainer,children:Object(Le.jsxs)(pa.a,{className:e.table,"aria-label":"simple table",children:[Object(Le.jsx)(ha.a,{className:e.head,children:Object(Le.jsxs)(aa.a,{className:e.headRow,children:[Object(Le.jsx)(na.a,{className:e.header,align:"left"}),Object(Le.jsx)(na.a,{className:e.header,align:"left",children:"Product name"}),Object(Le.jsx)(na.a,{className:e.header,align:"right",children:"Delete"})]})}),Object(Le.jsx)(ma.a,{children:r&&r.map((function(e){return Object(Le.jsx)(_a,{favorite:e,user:a})}))})]})}):Object(Le.jsxs)(Fe.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[Object(Le.jsx)(fe.a,{align:"center",variant:"h5",color:"initial",children:" You dont`t have any product in your wishlist, go to the home and check our incredible products"}),Object(Le.jsx)(ge.a,{variant:"contained",color:"primary",startIcon:Object(Le.jsx)(Oa.a,{}),className:e.checkout,onClick:function(e){return c.push("/")},children:"home"})]})})}function Wa(){var e=Ze(),t=Object(he.e)(),a=Object(o.b)(),r=Object(o.c)((function(e){return Object(d.a)({},e.authenticationReducer)})),c=r.logged,i=r.user,s=Object(n.useState)("accountConfig"),l=Object(pe.a)(s,2),u=l[0],j=l[1],b=Object(n.useState)(!1),p=Object(pe.a)(b,2),h=p[0],m=p[1];function O(){localStorage.removeItem("jwt"),a(Te()),t.push("/")}Object(n.useEffect)((function(){return localStorage.getItem("jwt")?i&&"customer"!==i.role?t.push("/authentication"):void 0:t.push("/authentication")}),[c]);var f=function(){m(!1)};return Object(Le.jsx)(_e.a,{maxWidth:"lg",children:Object(Le.jsxs)(Ue.a,{container:!0,spacing:{xs:0,sm:4},className:e.container,children:[Object(Le.jsx)(Ue.a,{item:!0,sm:2,className:e.filterGrid,children:Object(Le.jsxs)(We.a,{align:"center",children:[Object(Le.jsx)(fe.a,{variant:"h5",color:"secondary",display:"inline",children:"".concat(i&&i.name," ").concat(i&&i.lastName)}),Object(Le.jsx)(Ve.a,{className:e.profilePic}),Object(Le.jsx)(ge.a,{className:e.button,onClick:function(){return j("accountConfig")},children:" Account Information"}),Object(Le.jsx)(ge.a,{className:e.button,onClick:function(){return j("orderHistory")},children:" Order History "}),Object(Le.jsx)(ge.a,{className:e.button,onClick:function(){return j("wishlist")},children:" Wishlist "}),Object(Le.jsx)(Fe.a,{className:e.BoxLogOut,children:Object(Le.jsx)(ge.a,{className:e.button,onClick:function(){return O()},children:" Log Out "})})]})}),Object(Le.jsx)(Ue.a,{item:!0,xs:12,className:e.filter_responsive,children:Object(Le.jsxs)(Fe.a,{className:e.box_responsive,boxShadow:4,children:[Object(Le.jsx)(ge.a,{onClick:function(){m(!0)},className:e.button,children:"Select Screen"}),Object(Le.jsxs)(He.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:h,onClose:function(){return f()},children:[Object(Le.jsx)(Ye.a,{children:"Select Screen"}),Object(Le.jsx)(Ge.a,{children:Object(Le.jsx)("form",{className:e.responsive_container,children:Object(Le.jsx)(qe.a,{className:e.formControl,children:Object(Le.jsxs)(Je.a,{native:!0,input:Object(Le.jsx)(Qe.a,{id:"demo-dialog-native"}),children:[Object(Le.jsx)("option",{onClick:function(){return j("accountConfig")},children:" Account Information"}),") :",Object(Le.jsx)("option",{onClick:function(){return j("orderHistory")},children:" Order History "}),") :",Object(Le.jsx)("option",{onClick:function(){return j("whishlist")},children:" Wishlist "}),") :"]})})})}),Object(Le.jsx)(Ke.a,{children:Object(Le.jsx)(ge.a,{onClick:function(){return f()},color:"primary",children:"Ok"})})]}),Object(Le.jsx)(ge.a,{className:e.button,onClick:function(){return O()},children:" Log Out "})]})}),Object(Le.jsx)(Ue.a,{item:!0,xs:12,sm:9,children:"orderHistory"===u?Object(Le.jsx)(xa,{}):"accountConfig"===u?Object(Le.jsx)(Ba,{user:i}):"wishlist"===u?Object(Le.jsx)(Ua,{}):void 0})]})})}var Fa=Object(ke.a)((function(e){return{container:{marginTop:"3%",marginBottom:"3%"},slideContainer:{marginLeft:"5%",padding:"0 !important"},slide:{display:"flex",justifyContent:"center",height:"fit-content"},grid_container:{marginTop:e.spacing(2),marginBottom:e.spacing(2),borderRadius:5,color:e.palette.secondary.main,textAlign:"center"},button:{background:e.palette.primary.dark,"&:hover":{background:"#4d0f00"},color:"white",borderRadius:5,margin:"4%",width:"90%"},filterGrid:{marginLeft:20,backgroundColor:e.palette.primary.main,borderRadius:e.shape.borderRadius,marginTop:11,marginBottom:11,boxShadow:"1px 1px 8px -1px rgba(0,0,0,0.6)"},catalogueContainer:{marginLeft:e.spacing(5),height:"57%"},profilePic:{width:e.spacing(10),height:e.spacing(10),margin:10,color:"white"},profileContainer:{padding:0}}})),Ha=a(451),Ya=a(474),Ga=Object(ke.a)((function(e){return{display:{margin:20,alignContent:"center",width:"100%"},container:{margin:0,display:"flex",flexDirection:"column",alignItems:"center",padding:20,width:"100%"},add:{color:"white",minWidth:"20%",backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark},fontWeight:"600"},upBar:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-evenly"},searchBar:{width:"70%"},filter:{width:"20%"}}})),qa=Object(ke.a)((function(e){return{container:{display:"flex",flexDirection:"column",alignItems:"center",minHeight:"50vh"},table:{minWidth:650,marginTop:10},editButton:{minWidth:30,borderRadius:55,color:"white","&:hover":{backgroundColor:"lightGray"}},pagination:{marginTop:15},header:{fontWeight:"600"}}})),Ja="http://143.244.150.246/api",Qa=localStorage.getItem("jwt");function Ka(e){return function(t){return Ee.a.get(Ja+"/categories",{params:e},{headers:{Authorization:Qa}}).then((function(e){return e.data})).then((function(e){t({type:T,payload:e.data})})).catch((function(e){return console.error(e)}))}}function Za(e){return function(t){Ee.a.delete("".concat(Ja,"/image/cloudinary/").concat(e.public_id),{headers:{Authorization:Qa}}).catch((function(e){return console.error(e)}))}}function Va(e){return function(t){return Ee.a.post(Ja+"/images",{images:e},{headers:{Authorization:Qa}}).catch((function(e){return console.error(e)}))}}function Xa(e){return function(t){Ee.a.get("".concat(Ja,"/orders"),{params:e},{headers:{Authorization:Qa}}).then((function(e){t({type:L,payload:e.data})})).catch((function(e){console.error(e)}))}}function $a(e){return function(t){Ee.a.get("".concat(Ja,"/user"),{params:e},{headers:{Authorization:Qa}}).then((function(e){t({type:M,payload:e.data})})).catch((function(e){console.error(e)}))}}function en(e){var t=e.setDisplayStatus,a=e.setEditUser,r=qa(),c=Object(o.b)();Object(n.useEffect)((function(){c($a())}),[]);var i=Object(o.c)((function(e){return e.adminReducer})).users;var s=i&&i.map((function(e){return function(e,t,a,n){return{id:e,name:t,role:a,edit:n}}(e.id,"".concat(e.name," ").concat(e.lastName),e.role,Object(Le.jsx)(ge.a,{onClick:function(){a(e),t("userDetail")},className:r.editButton,children:Object(Le.jsx)("img",{width:"25px",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAp0lEQVRYw+3SQQrCMBRF0QtZSLuWgrspdO4qdBHZh+BCsociDv0Ok9pmIv+Bwn+Zn0tCIBb7hQ3ceHAlafiRgmEYWZGovCSx5QWJ+YMXJM4HiYvP40zdxOrBF56cOom7B29YJ1EYfPjjRGH04/cJd36bmD35zMJrl3DkE7A0t5j8+URufo7r4wQffPDB/zWPmkfN14CIrwERXwPtceRR86h51Hws9t3exfxsR4kLnvYAAAAASUVORK5CYII=",alt:"edit button"})}))}));return Object(Le.jsx)(Fe.a,{className:r.container,children:Object(Le.jsx)(ba.a,{component:Ct.a,children:Object(Le.jsxs)(pa.a,{className:r.table,"aria-label":"simple table",children:[Object(Le.jsx)(ha.a,{children:Object(Le.jsxs)(aa.a,{children:[Object(Le.jsx)(na.a,{className:r.header,align:"center",children:"User ID"}),Object(Le.jsx)(na.a,{className:r.header,align:"center",children:"Name"}),Object(Le.jsx)(na.a,{className:r.header,align:"right",children:"Role"}),Object(Le.jsx)(na.a,{className:r.header,align:"right",children:"Edit"})]})}),Object(Le.jsx)(ma.a,{children:s&&s.map((function(e){return Object(Le.jsxs)(aa.a,{children:[Object(Le.jsx)(na.a,{align:"center",children:e.id}),Object(Le.jsx)(na.a,{align:"center",children:e.name}),Object(Le.jsx)(na.a,{align:"right",children:e.role}),Object(Le.jsx)(na.a,{align:"right",children:e.edit})]},e.name)}))})]})})})}var tn=Object(ke.a)((function(e){return{container:{display:"flex",flexDirection:"column",alignItems:"center",minHeight:"50vh"},table:{minWidth:650,marginTop:10},editButton:{minWidth:30,borderRadius:55,color:"white","&:hover":{backgroundColor:"lightGray"}},pagination:{marginTop:15},header:{fontWeight:"600"}}}));function an(e){var t=e.setDisplayStatus,a=e.setEditOrder,r=tn(),c=Object(o.b)();Object(n.useEffect)((function(){c(Xa())}),[]);var i=Object(o.c)((function(e){return e.adminReducer})).orders;var s=i&&i.map((function(e){return function(e,t,a,n){return{id:e,total:t,status:a,edit:n}}(e.id,e.total,e.status,Object(Le.jsx)(ge.a,{onClick:function(){a(e),t("orderDetail")},className:r.editButton,children:Object(Le.jsx)("img",{width:"25px",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAp0lEQVRYw+3SQQrCMBRF0QtZSLuWgrspdO4qdBHZh+BCsociDv0Ok9pmIv+Bwn+Zn0tCIBb7hQ3ceHAlafiRgmEYWZGovCSx5QWJ+YMXJM4HiYvP40zdxOrBF56cOom7B29YJ1EYfPjjRGH04/cJd36bmD35zMJrl3DkE7A0t5j8+URufo7r4wQffPDB/zWPmkfN14CIrwERXwPtceRR86h51Hws9t3exfxsR4kLnvYAAAAASUVORK5CYII=",alt:"edit icon"})}))}));return Object(Le.jsx)(Fe.a,{className:r.container,children:Object(Le.jsx)(ba.a,{component:Ct.a,children:Object(Le.jsxs)(pa.a,{className:r.table,"aria-label":"simple table",children:[Object(Le.jsx)(ha.a,{children:Object(Le.jsxs)(aa.a,{children:[Object(Le.jsx)(na.a,{className:r.header,align:"center",children:"Order ID"}),Object(Le.jsx)(na.a,{className:r.header,align:"center",children:"Total"}),Object(Le.jsx)(na.a,{className:r.header,align:"right",children:"Status"}),Object(Le.jsx)(na.a,{className:r.header,align:"right",children:"Edit"})]})}),Object(Le.jsx)(ma.a,{children:s&&s.map((function(e){return Object(Le.jsxs)(aa.a,{children:[Object(Le.jsx)(na.a,{align:"center",children:e.id}),Object(Le.jsx)(na.a,{align:"center",children:e.total}),Object(Le.jsx)(na.a,{align:"right",children:e.status}),Object(Le.jsx)(na.a,{align:"right",children:e.edit})]},e.name)}))})]})})})}var nn=a(158),rn=Object(ke.a)((function(e){return{container:{display:"flex",justifyContent:"center",alignItems:"center"},button:{background:e.palette.primary.main,color:"white",borderRadius:5,margin:"4%",width:"40%","&:hover":{background:e.palette.primary.dark}},cancel:{borderRadius:5,margin:"4%",width:"40%",background:e.palette.secondary.main},input:{width:"40%"},buttonContainer:{width:"50%"}}}));function cn(e){var t=e.setDisplayStatus,a=rn(),r=Object(o.b)(),c=Object(o.c)((function(e){return e.adminReducer.categories})),i=Object(n.useState)(!1),s=Object(pe.a)(i,2),l=s[0],u=s[1],j=Object(n.useState)(!1),b=Object(pe.a)(j,2),p=b[0],h=b[1];function m(e){return Object(Le.jsx)(Rt.a,Object(d.a)({elevation:6,variant:"filled"},e))}return Object(n.useEffect)((function(){r(Ka({limit:9999999}))}),[]),Object(Le.jsxs)(Fe.a,{className:a.container,children:[Object(Le.jsx)(At.a,{className:a.input,id:"nameOfCategory",variant:"outlined",placeholder:"Category Name"}),Object(Le.jsxs)(Fe.a,{className:a.buttonContainer,children:[Object(Le.jsx)(ge.a,{onClick:function(){var e,t,a=Object(nn.a)(c);try{for(a.s();!(e=a.n()).done;){if(e.value.name===document.getElementById("nameOfCategory").value)return u(!0)}}catch(n){a.e(n)}finally{a.f()}r((t=document.getElementById("nameOfCategory").value,function(e){return Ee.a.post(Ja+"/categories",{name:t},{headers:{Authorization:Qa}}).then((function(a){e({type:z,payload:{name:t}})})).catch((function(e){return console.error(e)}))})),h(!0)},className:a.button,children:"Create"}),Object(Le.jsx)(ge.a,{onClick:function(){return t("categories")},className:a.cancel,children:"Cancel"})]}),Object(Le.jsx)(It.a,{open:l,autoHideDuration:4e3,onClose:function(){return u(!1)},children:Object(Le.jsx)(m,{onClose:function(){return u(!1)},severity:"error",children:"That category has already been created!"})}),Object(Le.jsx)(It.a,{open:p,autoHideDuration:4e3,onClose:function(){return h(!1)},children:Object(Le.jsx)(m,{onClose:function(){return h(!1)},severity:"success",children:"The category has been successfully created!"})})]})}var sn=Object(ke.a)((function(e){return{table:{minWidth:650,marginTop:10},editButton:{minWidth:30,borderRadius:55,color:"white","&:hover":{backgroundColor:"lightGray"}},header:{fontWeight:"600"}}}));function on(){var e=sn(),t=Object(o.b)(),a=Object(o.c)((function(e){return e.adminReducer.categories}));Object(n.useEffect)((function(){t(Ka())}),[]);var r=a&&a.map((function(a){return function(e,t){return{name:e,edit:t}}(a.name,Object(Le.jsx)(ge.a,{onClick:function(){var e;t((e=a.name,function(t){return Ee.a.delete("".concat(Ja,"/categories/").concat(e),{headers:{Authorization:Qa}}).catch((function(e){return console.error(e)}))})),t(Ka()),t(Ka())},className:e.editButton,children:Object(Le.jsx)("img",{width:"25px",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAYklEQVRYw+3VsQ3AIAxE0duDYZnGo0HFDmSBSNgGUkT/06J7Eg0S0TdVzZdT785vETN5AM4B/+j68wC4gVP3AAAAAAAAAHJAC335LQ5YCLA4UDTc80NFyhCmvhzvstw8kbcHgDjepK6bn4cAAAAASUVORK5CYII=",alt:"Delete Icon"})}))}));return Object(Le.jsx)(Fe.a,{children:Object(Le.jsx)(ba.a,{component:Ct.a,children:Object(Le.jsxs)(pa.a,{className:e.table,"aria-label":"simple table",children:[Object(Le.jsx)(ha.a,{children:Object(Le.jsxs)(aa.a,{children:[Object(Le.jsx)(na.a,{className:e.header,align:"left",children:"Name"}),Object(Le.jsx)(na.a,{className:e.header,align:"right",children:"Delete"})]})}),Object(Le.jsx)(ma.a,{children:r&&r.map((function(e){return Object(Le.jsxs)(aa.a,{children:[Object(Le.jsx)(na.a,{align:"left",children:e.name}),Object(Le.jsx)(na.a,{align:"right",children:e.edit})]},e.name)}))})]})})})}var ln=a(169),un=Object(ke.a)((function(e){return{delete:{backgroundColor:"#D22727","&:hover":{cursor:"pointer",background:e.palette.primary.dark},color:"white",width:25,height:20,border:"none",position:"absolute",top:5,right:5},image:{display:"flex",flexDirection:"column",position:"relative"}}}));function dn(e){var t=e.file,a=e.onDelete,n=un(),r=Object(o.b)();return Object(Le.jsxs)(Ct.a,{className:n.image,justify:"space-between",alignItems:"center",children:[Object(Le.jsx)("img",{width:"150px",src:t.secure_url,alt:"Product Avatar"}),Object(Le.jsx)("button",{className:n.delete,size:"small",onClick:function(e){e.preventDefault(),a(t),r(function(e){var t=e.split("/")[6];return function(e){e({type:B,payload:t})}}(t.secure_url))},children:"X"})]})}var jn=a(450),bn=Object(ke.a)((function(e){return{button:{background:e.palette.primary.main,color:"white",borderRadius:5,margin:"4%",width:"30%","&:hover":{background:e.palette.primary.dark}},cancel:{borderRadius:5,margin:"4%",width:"30%",background:e.palette.secondary.main},buttonContainer:{width:"50%",position:"relative",right:-235,top:-20},selectedCategory:{display:"flex",padding:8,backgroundColor:"salmon",margin:10},removeCategory:{background:e.palette.primary.main,color:"white",borderRadius:5,minWidth:10,padding:10,height:4,width:4,"&:hover":{background:e.palette.primary.dark},marginLeft:6},form:{display:"flex",flexDirection:"column",alignItems:"center"},input:{margin:"2%",width:"90%","&:hover":{border:"none"}},selectedCategories:{display:"flex",flexWrap:"wrap",width:"90%"},dropzone:{height:"8rem",width:"85%",margin:"1rem",padding:"1rem",border:"2px dashed salmon",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"2rem",fontWeight:"bold",cursor:"pointer"},active:{border:"2px solid rebeccapurple"},errors:{color:"red"},images:{display:"flex",listStyle:"none"},image:{margin:10},errorText:{margin:0,color:"red",fontSize:15},dragTypo:{fontSize:25},delete:{marginTop:10,color:"white",backgroundColor:e.palette.primary.dark,"&:hover":{backgroundColor:"gray"}}}}));function pn(e){var t=e.setDisplayStatus,a=e.editProduct,r=Object(n.useState)(a?a.Categories.map((function(e){return e.name})):[]),c=Object(pe.a)(r,2),i=c[0],s=c[1],l=Object(n.useState)(a?a.Images.map((function(e){return{secure_url:e.url,name:e.name}})):[]),u=Object(pe.a)(l,2),j=u[0],b=u[1],p=Object(n.useState)({id:a?a.id:"",name:a?a.name:"",price:a?a.price:"",stock:a?a.stock:1,description:a?a.description:"",categories:a?a.Categories.map((function(e){return e.name})):[],images:a?a.Images.map((function(e){return{secure_url:e.url,name:e.name}})):[]}),h=Object(pe.a)(p,2),m=h[0],O=h[1],f=Object(n.useState)(!1),x=Object(pe.a)(f,2),g=x[0],v=x[1];function y(e){return Object(Le.jsx)(Rt.a,Object(d.a)({elevation:6,variant:"filled"},e))}var C=Object(n.useState)(""),w=Object(pe.a)(C,2),k=w[0],N=w[1],S=Object(n.useState)(""),A=Object(pe.a)(S,2),I=A[0],R=A[1],E=Object(n.useState)(""),P=Object(pe.a)(E,2),T=P[0],z=P[1],B=Object(n.useState)(""),L=Object(pe.a)(B,2),M=L[0],U=L[1],W=Object(n.useState)(""),F=Object(pe.a)(W,2),H=F[0],Y=F[1],G=Object(n.useState)(!1),q=Object(pe.a)(G,2),J=q[0],Q=q[1],K=Object(n.useState)(!1),Z=Object(pe.a)(K,2),V=Z[0],X=Z[1],$=Object(n.useState)(!1),ee=Object(pe.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(!1),re=Object(pe.a)(ne,2),ce=re[0],ie=re[1],se=Object(n.useState)(!1),oe=Object(pe.a)(se,2),le=oe[0],ue=oe[1],de=function(){return m.name?m.name.length>100?N("The name cannot be longer than 50 characters."):m.name.length<2?N("The name cannot be that short."):void N(""):N("You must provide a product name.")};Object(n.useEffect)((function(){de()}),[m.name]);var je=function(){return m.price?m.price<1?R("Price cannot be a negative number."):void R(""):R("Your product must have a price.")};Object(n.useEffect)((function(){je()}),[m.price]);var be=function(){return m.stock?m.stock<1?z("Stock cannot be less than one."):void z(""):z("You must enter an amount of products available.")};Object(n.useEffect)((function(){be()}),[m.stock]);var he=function(){if(!m.categories.length)return U("You must enter at least one category.");U("")};Object(n.useEffect)((function(){he()}),[m.categories]);var me=function(){if(!m.images.length)return Y("You must upload at least one image.");Y("")};Object(n.useEffect)((function(){me()}),[m.images]),Object(n.useEffect)((function(){O(Object(d.a)(Object(d.a)({},m),{},{categories:i}))}),[i]),Object(n.useEffect)((function(){O(Object(d.a)(Object(d.a)({},m),{},{images:j.map((function(e){return e.secure_url}))}))}),[j]);var Oe=Object(o.c)((function(e){return e.adminReducer})).imagesToDelete,xe=function(e){ye(function(e){return function(t){return Ee.a.delete("".concat(Ja,"/products/").concat(e),{headers:{Authorization:Qa}}).catch((function(e){return console.error(e)}))}}(e)),t("products")},ve=Object(o.c)((function(e){return e.adminReducer.allCategories})),ye=Object(o.b)();Object(n.useEffect)((function(){var e;ye((function(t){return Ee.a.get(Ja+"/categories/all",{params:e},{headers:{Authorization:Qa}}).then((function(e){return e.data})).then((function(e){t({type:_,payload:e.data})})).catch((function(e){return console.error(e)}))}))}),[]);var Ce=bn(),we=function(){var e=Object(Ie.a)(Ae.a.mark((function e(t){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ye(Za(t)),b(j.filter((function(e){return e.secure_url!==t.secure_url})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ke=Object(ln.a)({onDrop:function(e){ue(!0);var t="https://api.cloudinary.com/v1_1/".concat("dan68gswf","/image/upload");e.forEach(function(){var e=Object(Ie.a)(Ae.a.mark((function e(a){var n,r,c;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",a),n.append("upload_preset","onion123"),n.append("api_key",Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://143.244.150.246/api",REACT_APP_API_URL_dev:"http://localhost:3001",REACT_APP_CLOUDINARY_CLOUD_NAME:"dan68gswf",REACT_APP_CLOUDINARY_UPLOAD_PRESET:"onion123",REACT_APP_CLOUDINARY_API_KEY:"836896426991146",REACT_APP_CLOUDINARY_API_SECRET:"xSjo19Owo5KHUPa9osXisXOEvf8"}).REACT_APP_CLOUDINARY_KEY),e.next=6,fetch(t,{method:"post",body:n});case 6:return r=e.sent,e.next=9,r.json();case 9:c=e.sent,b((function(e){return[].concat(Object(D.a)(e),[c])}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},accepts:"image/*",multiple:!0,maxFiles:4}),Ne=ke.getRootProps,Se=ke.getInputProps,Re=ke.isDragActive;return console.log(ve),Object(Le.jsxs)(We.a,{className:Ce.container,children:[Object(Le.jsxs)(Fe.a,{className:Ce.buttonContainer,children:[Object(Le.jsx)(ge.a,{onClick:function(){return t("products")},className:Ce.cancel,children:"Cancel"}),Object(Le.jsx)(ge.a,{onClick:function(){de(),je(),be(),he(),me(),k||I||T||M||H||(a?(ye(function(e){return function(t){return Ee.a.put(Ja+"/products",Object(d.a)({},e),{headers:{Authorization:Qa}}).catch((function(e){return console.error(e)}))}}(m)),ye(Va(Oe)),v(!0)):(ye(function(e){return function(t){return Ee.a.post(Ja+"/products",Object(d.a)({},e),{headers:{Authorization:Qa}}).catch((function(e){return console.error(e)}))}}(m)),ye(Va(Oe)),O({name:"",price:"",stock:1,description:"",categories:[],images:[]}),s([]),b([]),t("products")))},className:Ce.button,children:"Save"})]}),Object(Le.jsxs)("form",{className:Ce.form,children:[Object(Le.jsx)(At.a,{onClickCapture:function(){return Q(!0)},helperText:J&&Object(Le.jsx)(fe.a,{className:Ce.errorText,children:k}),value:m.name,onChange:function(e){return O(Object(d.a)(Object(d.a)({},m),{},{name:e.target.value}))},className:Ce.input,id:"outlined-basic",label:"Name",variant:"outlined"}),Object(Le.jsx)(At.a,{onClickCapture:function(){return X(!0)},helperText:V&&Object(Le.jsx)(fe.a,{className:Ce.errorText,children:I}),value:m.price,onChange:function(e){return O(Object(d.a)(Object(d.a)({},m),{},{price:e.target.value}))},className:Ce.input,id:"outlined-number",label:"Price",type:"number",InputLabelProps:{shrink:!0},variant:"outlined",InputProps:{startAdornment:Object(Le.jsx)(jn.a,{position:"start",children:"$"})}}),Object(Le.jsx)(At.a,{onClickCapture:function(){return ae(!0)},helperText:te&&Object(Le.jsx)(fe.a,{className:Ce.errorText,children:T}),value:m.stock,onChange:function(e){return O(Object(d.a)(Object(d.a)({},m),{},{stock:e.target.value>=0?e.target.value:1}))},className:Ce.input,id:"outlined-number",label:"Stock",type:"number",InputLabelProps:{shrink:!0},variant:"outlined",InputProps:{inputProps:{min:0}}}),Object(Le.jsx)(At.a,{value:m.description,onChange:function(e){return O(Object(d.a)(Object(d.a)({},m),{},{description:e.target.value}))},className:Ce.input,id:"outlined-basic",label:"Description",variant:"outlined",multiline:!0}),Object(Le.jsx)(Ya.a,{onClickCapture:function(){return ie(!0)},id:"categorySelector",className:Ce.input,options:ve,getOptionLabel:function(e){return e.name},renderInput:function(e){return Object(Le.jsx)(At.a,Object(d.a)(Object(d.a)({},e),{},{label:"Categories",variant:"outlined"}))},onChange:function(e,t){t&&(i.includes(t.name)||(i.length>=10?alert("You can set up to 10 categories to a single product."):s([].concat(Object(D.a)(i),[t.name]))))}}),ce&&Object(Le.jsx)(fe.a,{className:Ce.errorText,children:M}),Object(Le.jsx)(Ct.a,{elevation:5,className:Ce.selectedCategories,children:i.map((function(e){return Object(Le.jsxs)(Ct.a,{className:Ce.selectedCategory,children:[Object(Le.jsx)(fe.a,{children:e}),Object(Le.jsx)(ge.a,{onClick:function(){return s(i.filter((function(t){return t!==e})))},value:e,className:Ce.removeCategory,children:"X"})]},e)}))}),Object(Le.jsxs)("div",Object(d.a)(Object(d.a)({},Ne()),{},{className:"".concat(Ce.dropzone," ").concat(Re?Ce.active:null),children:[Object(Le.jsx)("input",Object(d.a)({},Se())),Object(Le.jsx)(fe.a,{className:Ce.dragTypo,children:"Drag & drop product images"})]})),Object(Le.jsx)("ul",{className:Ce.images,children:j.map((function(e){return Object(Le.jsx)("li",{className:Ce.image,children:Object(Le.jsx)(dn,{height:"10px",file:e,onDelete:we})},e.name)}))}),le&&Object(Le.jsx)(fe.a,{className:Ce.errorText,children:H})]}),a&&Object(Le.jsx)(ge.a,{onClick:function(){xe(a.id)},className:Ce.delete,children:"DELETE PRODUCT"}),a&&Object(Le.jsx)(It.a,{open:g,autoHideDuration:4e3,onClose:function(){return v(!1)},children:Object(Le.jsx)(y,{onClose:function(){return v(!1)},severity:"success",children:"The product has been updated succesfully!"})})]})}var hn=Object(ke.a)((function(e){return{table:{minWidth:650,marginTop:10},editButton:{minWidth:30,borderRadius:55,color:"white","&:hover":{backgroundColor:"lightGray"}},header:{fontWeight:"600"}}}));function mn(e){var t=e.setDisplayStatus,a=e.setEditProduct,r=hn(),c=Object(o.b)(),i=Object(o.c)((function(e){return e.homeReducer.products}));Object(n.useEffect)((function(){c(Kt())}),[]);var s=i&&i.map((function(e){return function(e,t,a,n,r){return{photo:e,name:t,price:a,stock:n,edit:r}}(Object(Le.jsx)("img",{width:"50px",src:e.Images[0].url,alt:e.name}),e.name,"$".concat(e.price),e.stock,Object(Le.jsx)(ge.a,{onClick:function(){t("edit_product"),a(e)},className:r.editButton,children:Object(Le.jsx)("img",{width:"25px",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAp0lEQVRYw+3SQQrCMBRF0QtZSLuWgrspdO4qdBHZh+BCsociDv0Ok9pmIv+Bwn+Zn0tCIBb7hQ3ceHAlafiRgmEYWZGovCSx5QWJ+YMXJM4HiYvP40zdxOrBF56cOom7B29YJ1EYfPjjRGH04/cJd36bmD35zMJrl3DkE7A0t5j8+URufo7r4wQffPDB/zWPmkfN14CIrwERXwPtceRR86h51Hws9t3exfxsR4kLnvYAAAAASUVORK5CYII=",alt:"edit button"})}))}));return Object(Le.jsx)(Fe.a,{children:Object(Le.jsx)(ba.a,{component:Ct.a,children:Object(Le.jsxs)(pa.a,{className:r.table,"aria-label":"simple table",children:[Object(Le.jsx)(ha.a,{children:Object(Le.jsxs)(aa.a,{children:[Object(Le.jsx)(na.a,{className:r.header,align:"left"}),Object(Le.jsx)(na.a,{className:r.header,align:"left",children:"Name"}),Object(Le.jsx)(na.a,{className:r.header,align:"center",children:"Price"}),Object(Le.jsx)(na.a,{className:r.header,align:"center",children:"Stock"}),Object(Le.jsx)(na.a,{className:r.header,align:"center",children:"Edit"})]})}),Object(Le.jsx)(ma.a,{children:s&&s.map((function(e){return Object(Le.jsxs)(aa.a,{children:[Object(Le.jsx)(na.a,{padding:"0",children:e.photo}),Object(Le.jsx)(na.a,{align:"left",children:e.name}),Object(Le.jsx)(na.a,{align:"right",children:e.price}),Object(Le.jsx)(na.a,{align:"right",children:e.stock}),Object(Le.jsx)(na.a,{align:"right",children:e.edit})]},e.name)}))})]})})})}var On=a(475);function fn(){var e=Object(o.c)((function(e){return e.adminReducer})),t=e.userPage,a=e.userPages,n=Object(o.b)();return Object(Le.jsx)(Le.Fragment,{children:Object(Le.jsx)(On.a,{count:a,page:t,onChange:function(e,t){n($a({page:t}))},color:"primary",shape:"rounded"})})}function xn(){var e=Object(o.c)((function(e){return Object(d.a)({},e.homeReducer)})),t=e.pages,a=e.category,n=e.page,r=e.searched,c=e.order,i=e.filter,s=Object(o.b)();return Object(Le.jsx)(Le.Fragment,{children:Object(Le.jsx)(On.a,{count:t,page:n,onChange:function(e,t){s(Vt({name:r,category:a,order:c,filter:i,page:t}))},color:"primary",shape:"rounded"})})}function gn(){var e=Object(o.c)((function(e){return e.adminReducer})),t=e.orderPage,a=e.orderPages,n=Object(o.b)();return Object(Le.jsx)(Le.Fragment,{children:Object(Le.jsx)(On.a,{count:a,page:t,onChange:function(e,t){n(Xa({page:t}))},color:"primary",shape:"rounded"})})}function vn(){var e=Object(o.c)((function(e){return e.adminReducer})),t=e.categoriesPage,a=e.categoriesPages,n=Object(o.b)();return Object(Le.jsx)(Le.Fragment,{children:Object(Le.jsx)(On.a,{count:a,page:t,onChange:function(e,t){n(Ka({page:t}))},color:"primary",shape:"rounded"})})}var yn=Object(ke.a)((function(e){return{table:{minWidth:650,marginTop:10},buttonContainer:{width:"50%",position:"relative",right:-235,top:-20},button:{background:e.palette.primary.main,color:"white",borderRadius:5,margin:"4%",width:"30%","&:hover":{background:e.palette.primary.dark}},cancel:{borderRadius:5,margin:"4%",width:"30%",background:e.palette.secondary.main},editButton:{minWidth:30,borderRadius:55,color:"white","&:hover":{backgroundColor:"lightGray"}}}}));function Cn(e){var t=e.editOrder,a=e.setDisplayStatus,r=yn(),c=Object(o.b)(),i=Object(n.useState)(t.status),s=Object(pe.a)(i,2),l=s[0],u=s[1],j=Object(n.useState)(!1),b=Object(pe.a)(j,2),p=b[0],h=b[1];function m(e){return Object(Le.jsx)(Rt.a,Object(d.a)({elevation:6,variant:"filled"},e))}return Object(Le.jsxs)(Fe.a,{className:r.root,children:[Object(Le.jsxs)(Fe.a,{className:r.buttonContainer,children:[Object(Le.jsx)(ge.a,{display:"flex",onClick:function(){return a("orders")},className:r.cancel,children:"Back"}),"cancelled"===t.status?Object(Le.jsx)(fe.a,{color:"primary",variant:"subtitle2",children:"The order is cancelled, and can`t be modified"}):Object(Le.jsx)(ge.a,{onClick:function(){var e;c((e={id:t.id,status:l.toLowerCase()},function(t){Ee.a.patch("".concat(Ja,"/orders"),e,{headers:{Authorization:Qa}}).catch((function(e){console.error(e)}))})),h(!0)},className:r.button,children:"Save"})]}),Object(Le.jsxs)(Ct.a,{children:[Object(Le.jsx)(fe.a,{children:"Order ID"}),Object(Le.jsx)(fe.a,{children:t.id}),Object(Le.jsxs)(Fe.a,{children:[Object(Le.jsxs)(Fe.a,{children:[Object(Le.jsx)(fe.a,{children:"Created At"}),Object(Le.jsx)(fe.a,{children:t.createdAt})]}),Object(Le.jsxs)(Fe.a,{children:[Object(Le.jsx)(fe.a,{children:"Total"}),Object(Le.jsx)(fe.a,{children:t.total})]}),Object(Le.jsxs)(Fe.a,{children:[Object(Le.jsx)(fe.a,{children:"Payment Method"}),Object(Le.jsx)(fe.a,{children:t.paymentMethod})]})]}),Object(Le.jsx)(Ya.a,{disabled:"cancelled"===t.status,className:r.status,id:"statusSelector",options:["Created","Paid","Progress","Cancelled","Completed"],getOptionLabel:function(e){return e},renderInput:function(e){return Object(Le.jsx)(At.a,Object(d.a)(Object(d.a)({},e),{},{label:"Status",variant:"outlined"}))},value:l,onChange:function(e,t){u(t)}})]}),Object(Le.jsx)(It.a,{open:p,autoHideDuration:4e3,onClose:function(){return h(!1)},children:Object(Le.jsx)(m,{onClose:function(){return h(!1)},severity:"success",children:"The order has been updated succesfully!"})})]})}var wn=Object(ke.a)((function(e){return{table:{minWidth:650,marginTop:10},buttonContainer:{width:"50%",position:"relative",right:-235,top:-20},button:{background:e.palette.primary.main,color:"white",borderRadius:5,margin:"4%",width:"30%","&:hover":{background:e.palette.primary.dark}},cancel:{borderRadius:5,margin:"4%",width:"30%",background:e.palette.secondary.main},editButton:{minWidth:30,borderRadius:55,color:"white","&:hover":{backgroundColor:"lightGray"}}}}));function kn(e){var t=e.editUser,a=e.setDisplayStatus,r=wn(),c=Object(o.b)(),i=Object(n.useState)(t.role),s=Object(pe.a)(i,2),l=s[0],u=s[1],j=Object(n.useState)(!1),b=Object(pe.a)(j,2),p=b[0],h=b[1],m=Object(n.useState)(!1),O=Object(pe.a)(m,2),f=O[0],x=O[1];function g(e){return Object(Le.jsx)(Rt.a,Object(d.a)({elevation:6,variant:"filled"},e))}return Object(Le.jsxs)(Fe.a,{className:r.root,children:[Object(Le.jsxs)(Fe.a,{className:r.buttonContainer,children:[Object(Le.jsx)(ge.a,{onClick:function(){return a("users")},className:r.cancel,children:"Cancel"}),Object(Le.jsx)(ge.a,{onClick:function(){var e;c((e={id:t.id,role:l},function(t){Ee.a.patch(Ja+"/user",e,{headers:{Authorization:Qa}}).catch((function(e){console.error(e)}))})),h(!0)},className:r.button,children:"Save"})]}),Object(Le.jsxs)(Ct.a,{children:[Object(Le.jsx)(fe.a,{children:"User ID"}),Object(Le.jsx)(fe.a,{children:t.id}),Object(Le.jsxs)(Fe.a,{children:[Object(Le.jsxs)(Fe.a,{children:[Object(Le.jsx)(fe.a,{children:"Name"}),Object(Le.jsx)(fe.a,{children:t.name})]}),Object(Le.jsxs)(Fe.a,{children:[Object(Le.jsx)(fe.a,{children:"Last Name"}),Object(Le.jsx)(fe.a,{children:t.lastName})]}),Object(Le.jsxs)(Fe.a,{children:[Object(Le.jsx)(fe.a,{children:"Email"}),Object(Le.jsx)(fe.a,{children:t.email})]})]}),Object(Le.jsx)(Ya.a,{className:r.status,id:"statusSelector",options:["customer","staff","admin"],getOptionLabel:function(e){return e},renderInput:function(e){return Object(Le.jsx)(At.a,Object(d.a)(Object(d.a)({},e),{},{label:"Status",variant:"outlined"}))},value:l,onChange:function(e,t){u(t)}}),"admin"===t.role?Object(Le.jsx)(ge.a,{disabled:!0,className:r.button,children:"Can't Delete Admin"}):Object(Le.jsx)(ge.a,{onClick:function(){var e;c((e=t.id,function(t){return Ee.a.delete(Ja+"/user/delete_user",{data:{id:e}},{headers:{Authorization:Qa}}).then((function(e){t({type:M,payload:e.data})})).catch((function(e){return console.error(e)}))})),a("users")},className:r.button,children:"Delete User"})]}),Object(Le.jsx)(It.a,{open:p,autoHideDuration:4e3,onClose:function(){return h(!1)},children:Object(Le.jsx)(g,{onClose:function(){return h(!1)},severity:"success",children:"The user role has been updated succesfully!"})}),Object(Le.jsx)(It.a,{open:f,autoHideDuration:4e3,onClose:function(){return x(!1)},children:Object(Le.jsx)(g,{onClose:function(){return x(!1)},severity:"success",children:"'The user has been deleted, redirecting to admin profile'"})})]})}function Nn(e){var t=e.displayStatus,a=e.setDisplayStatus,r=Ga(),c=Object(o.b)(),i=Object(o.c)((function(e){return Object(d.a)({},e.homeReducer)})),s=i.filter,l=i.order,u=Object(n.useState)({}),j=Object(pe.a)(u,2),b=j[0],p=j[1],h=Object(n.useState)({}),m=Object(pe.a)(h,2),O=m[0],f=m[1],x=Object(n.useState)({}),g=Object(pe.a)(x,2),v=g[0],y=g[1];return"products"===t?Object(Le.jsxs)(Fe.a,{className:r.container,children:[Object(Le.jsxs)(We.a,{className:r.upBar,children:[Object(Le.jsx)(At.a,{onChange:function(e){c(Vt({name:e.target.value,filter:s,order:l}))},className:r.searchBar,label:"Search",variant:"outlined"}),Object(Le.jsx)(ge.a,{className:r.add,onClick:function(){return a("create_product")},children:"ADD PRODUCT"})]}),Object(Le.jsx)(Ct.a,{elevation:"8",className:r.display,children:Object(Le.jsx)(mn,{setEditProduct:p,setDisplayStatus:a})}),Object(Le.jsx)(xn,{})]}):"create_product"===t?Object(Le.jsx)(We.a,{className:r.display,children:Object(Le.jsx)(pn,{setDisplayStatus:a})}):"edit_product"===t?Object(Le.jsx)(We.a,{className:r.display,children:Object(Le.jsx)(pn,{editProduct:b,setDisplayStatus:a})}):"categories"===t?Object(Le.jsxs)(Fe.a,{className:r.container,children:[Object(Le.jsxs)(We.a,{className:r.upBar,children:[Object(Le.jsx)(At.a,{onChange:function(e){c(Ka({name:e.target.value}))},className:r.searchBar,label:"Search",variant:"outlined"}),Object(Le.jsx)(ge.a,{className:r.add,onClick:function(){return a("create_category")},children:"ADD CATEGORY"})]}),Object(Le.jsx)(Ct.a,{elevation:"8",className:r.display,children:Object(Le.jsx)(on,{setDisplayStatus:a})}),Object(Le.jsx)(vn,{})]}):"create_category"===t?Object(Le.jsx)(We.a,{className:r.display,children:Object(Le.jsx)(cn,{setDisplayStatus:a})}):"orders"===t?Object(Le.jsxs)(Fe.a,{className:r.container,children:[Object(Le.jsx)(We.a,{className:r.upBar,children:Object(Le.jsx)(Ya.a,{className:r.filter,id:"statusSelector",options:["All","Created","Paid","Progress","Cancelled","Completed"],getOptionLabel:function(e){return e},renderInput:function(e){return Object(Le.jsx)(At.a,Object(d.a)(Object(d.a)({},e),{},{label:"Status",variant:"outlined"}))},onChange:function(e,t){"All"===t?c(Xa()):t&&c(Xa({status:t}))}})}),Object(Le.jsx)(Ct.a,{elevation:"8",className:r.display,children:Object(Le.jsx)(an,{setEditOrder:f,setDisplayStatus:a})}),Object(Le.jsx)(gn,{})]}):"orderDetail"===t?Object(Le.jsx)(We.a,{className:r.display,children:Object(Le.jsx)(Cn,{editOrder:O,setDisplayStatus:a})}):"users"===t?Object(Le.jsxs)(Fe.a,{className:r.container,children:[Object(Le.jsx)(We.a,{className:r.upBar,children:Object(Le.jsx)(Ya.a,{className:r.filter,id:"statusSelector",options:["All","Customer","Staff","Admin"],getOptionLabel:function(e){return e},renderInput:function(e){return Object(Le.jsx)(At.a,Object(d.a)(Object(d.a)({},e),{},{label:"Status",variant:"outlined"}))},onChange:function(e,t){"All"===t?c($a()):t&&c($a({role:t}))}})}),Object(Le.jsx)(Ct.a,{elevation:"8",className:r.display,children:Object(Le.jsx)(en,{setEditUser:y,setDisplayStatus:a})}),Object(Le.jsx)(fn,{})]}):"userDetail"===t?Object(Le.jsx)(We.a,{className:r.display,children:Object(Le.jsx)(kn,{editUser:v,setDisplayStatus:a})}):void 0}function Sn(){var e=Object(he.e)(),t=Object(o.b)(),a=Object(o.c)((function(e){return Object(d.a)({},e.authenticationReducer)})),r=a.logged,c=a.user,i=Object(n.useState)("products"),s=Object(pe.a)(i,2),l=s[0],u=s[1],j=Fa();Object(n.useEffect)((function(){return localStorage.getItem("jwt")?r&&"customer"===c.role?e.push("/authentication"):void 0:e.push("/authentication")}),[r]);var b=function(e){u(e)};return Object(Le.jsx)(_e.a,{maxWidth:"lg",children:Object(Le.jsxs)(Ue.a,{container:!0,spacing:3,className:j.container,align:"center",children:[Object(Le.jsx)(Ue.a,{item:!0,xs:2,className:j.filterGrid,children:Object(Le.jsxs)(We.a,{className:j.profileContainer,children:[Object(Le.jsx)(fe.a,{variant:"h5",color:"secondary",display:"inline",children:"".concat(c&&c.name," ").concat(c&&c.lastName)}),Object(Le.jsx)(Ha.a,{className:j.profilePic}),Object(Le.jsx)(ge.a,{onClick:function(){b("products")},size:"small",className:j.button,children:Object(Le.jsx)(fe.a,{variant:"button",children:"Products"})}),Object(Le.jsx)(ge.a,{onClick:function(e){b("categories")},size:"small",className:j.button,children:Object(Le.jsx)(fe.a,{variant:"button",children:"Categories"})}),Object(Le.jsx)(ge.a,{onClick:function(e){b("orders")},size:"small",className:j.button,children:Object(Le.jsx)(fe.a,{variant:"button",children:"Orders"})}),Object(Le.jsx)(ge.a,{onClick:function(e){b("users")},size:"small",className:j.button,children:Object(Le.jsx)(fe.a,{variant:"button",children:"Users"})}),Object(Le.jsx)(ge.a,{onClick:function(){return localStorage.removeItem("jwt"),t(Te()),void e.push("/")},size:"small",className:j.button,children:Object(Le.jsx)(fe.a,{variant:"button",children:"Log Out"})})]})}),Object(Le.jsx)(Ue.a,{className:j.slideContainer,item:!0,xs:9,children:Object(Le.jsx)(Ct.a,{className:j.slide,elevation:3,children:Object(Le.jsx)(Nn,{setDisplayStatus:u,displayStatus:l})})})]})})}var An=Object(ke.a)((function(e){return{root:{flexGrow:1},grid_container:{marginTop:e.spacing(2),marginBottom:e.spacing(2),textAlign:"center",display:"flex",justifyContent:"space-evenly"},carousel:Object(we.a)({padding:"0px !important"},e.breakpoints.down("xs"),{display:"none"}),button:{background:e.palette.primary.dark,variant:"contained",color:"white",borderRadius:5},filterGrid:Object(we.a)({backgroundColor:"white",borderRadius:e.shape.borderRadius,marginTop:11,marginBottom:11,boxShadow:"0px 0px 0px 0px rgba(0,0,0,0.6)"},e.breakpoints.down("xs"),{marginTop:3,marginBottom:3,backgroundColor:e.palette.secondary.main}),catalogueContainer:{height:"57%",boxShadow:"0px 0px 0px 0px rgba(0,0,0,0.6)"},paperConfig:{boxShadow:"0px 0px 0px 0px rgba(0,0,0,0.6)",backgroundColor:"white"}}})),In=Object(ke.a)((function(e){return{root:{flexGrow:1},catalogueMainContainer:{backgroundColor:"white",boxShadow:"0px 0px 0px 0px rgba(0,0,0,0.6)",width:"100%",display:"flex",flexDirection:"column",alignItems:"center",height:"100%",padding:"15px",borderRadius:"5px"},searchSortContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"98%",borderRadius:"10px",padding:"5px",marginBottom:"24px"},search:Object(we.a)({position:"relative",display:"flex",alignItems:"center",height:"100%",borderRadius:e.shape.borderRadius,backgroundColor:"#E5E7EB",marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(we.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"25ch"}),gridContainer:{display:"flex",justifyContent:"space-evenly"},productCard:{margin:"10px"},paginationContainer:{display:"flex",justifyContent:"center",margin:"15px",width:"100%"},autoCompleteList:{position:"absolute",zIndex:20,backgroundColor:e.palette.common.white,width:"100%",borderBottomRightRadius:"2px",borderBottomLeftRadius:"2px",maxHeight:200,overflow:"auto",boxShadow:"1px 3px 6px -2px rgba(0,0,0,0.77)"}}})),Rn=a(175),En=a(161),Pn=a.n(En),Dn=Object(ke.a)((function(e){return{body:{boxShadow:"1px 1px 8px -1px rgba(0,0,0,0.6)",width:220,height:300,backgroundColor:e.palette.common.white,borderRadius:e.shape.borderRadius},image:{backgroundSize:"contain",height:150,paddingLeft:10,paddingRight:10},name:{height:44},cardContent:{padding:8},quantityInput:{width:65,borderRadius:5,backgroundColor:e.palette.common.white},favButton:{position:"absolute",zIndex:2,transform:"translate(60px, 0px);"},modal:Object(we.a)({display:"flex",alignItems:"center",justifyContent:"center"},e.breakpoints.down("xs"),{alignItems:"flex-start",marginTop:20}),star:{color:"#FCD34D",fontSize:12}}})),Tn=a(452);function zn(e){var t=e.product,a=Dn(),r=Object(o.b)(),c=Object(o.c)((function(e){return Object(d.a)({},e.authenticationReducer)})),i=c.logged,s=c.user,l=Object(o.c)((function(e){return Object(d.a)({},e.wishlistReducer)})).favorites,u=Object(n.useState)([]),j=Object(pe.a)(u,2),b=j[0],p=j[1],h=Object(n.useState)(!1),m=Object(pe.a)(h,2),O=m[0],f=m[1],x=Object(n.useState)(!1),g=Object(pe.a)(x,2),v=g[0],y=g[1],C=Object(n.useState)(!1),w=Object(pe.a)(C,2),k=w[0],N=w[1];return Object(n.useEffect)((function(){var e=zt(t.score);p(e)}),[]),Object(Le.jsxs)(Fe.a,{children:[Object(Le.jsxs)(gt.a,{className:a.body,children:[i?Object(Le.jsx)(St.a,{color:"primary","aria-label":"upload picture",component:"span",className:a.favButton,onClick:function(){return function(){if(l.find((function(e){return e.id===t.id})))return N(!0);r(Ut(t,s.email)),y(!0)}()},children:l.find((function(e){return e.id===t.id}))?Object(Le.jsx)(Tn.a,{}):Object(Le.jsx)(Dt.a,{})}):void 0,Object(Le.jsxs)(yt.a,{onClick:function(){return f(!0)},children:[Object(Le.jsx)(vt.a,{className:a.image,title:t.name,image:t.Images[0].url}),Object(Le.jsxs)(We.a,{className:a.cardContent,children:[Object(Le.jsx)(fe.a,{align:"left",variant:"subtitle2",color:"black",className:a.name,children:t.name}),Object(Le.jsx)(Fe.a,{display:"flex",justifyContent:"center",children:b.map((function(e){return Object(Le.jsx)(Pt.a,{className:a.star},e)}))}),Object(Le.jsx)(Fe.a,{display:"flex",justifyContent:"center",alignItems:"center",children:Object(Le.jsxs)(fe.a,{align:"center",variant:"body1",color:"black",children:["$",t.price]})})]}),Object(Le.jsx)(Fe.a,{display:"flex",justifyContent:"center",alignItems:"center",children:Object(Le.jsx)(ge.a,{variant:"outlined",color:"primary",startIcon:Object(Le.jsx)(Tt.a,{color:"primary"}),onClick:function(){return f(!0)},children:"add to cart"})})]})]}),Object(Le.jsx)(rt.a,{"aria-labelledby":"Product details","aria-describedby":"Product details",className:a.modal,open:O,onClose:function(){return f(!1)},closeAfterTransition:!0,BackdropComponent:ct.a,BackdropProps:{timeout:500},children:Object(Le.jsx)(it.a,{in:O,children:Object(Le.jsx)(Ft,{scoreArray:b,product:t,setModalState:f})})}),Object(Le.jsx)(It.a,{open:v,autoHideDuration:3e3,onClose:function(){return y(!1)},variant:"filled",children:Object(Le.jsx)(Rt.a,{onClose:function(){return y(!1)},severity:"success",children:"The product was successfully added to favourites!"})}),Object(Le.jsx)(It.a,{open:k,autoHideDuration:3e3,onClose:function(){return N(!1)},variant:"filled",children:Object(Le.jsx)(Rt.a,{onClose:function(){return N(!1)},severity:"info",children:"The product is already in favourites!"})})]})}var Bn=a(482),Ln=a(453);function Mn(){var e=Object(o.c)((function(e){return Object(d.a)({},e.homeReducer)})),t=e.category,a=e.page,n=e.searched,r=e.filter,c=e.order,i=_n(),s=Object(o.b)();return Object(Le.jsxs)(qe.a,{variant:"outlined",fullWidth:!0,className:i.sortForm,children:[Object(Le.jsx)(Bn.a,{className:i.select,id:"sortLabel",children:"Sort by..."}),Object(Le.jsxs)(Je.a,{labelId:"sortLabel",className:i.select,onChange:function(e){var r=e.target.value.split(",")[0],c=e.target.value.split(",")[1];s(Zt({name:n,category:t,filter:r,order:c,page:a})),s(function(e,t){return{type:O,payload:{filter:e,order:t}}}(r,c))},label:"Sort by...",value:"".concat(r,",").concat(c),children:[Object(Le.jsx)(Ln.a,{value:"name,ASC",children:"A-Z"}),Object(Le.jsx)(Ln.a,{value:"name,DESC",children:"Z-A"}),Object(Le.jsx)(Ln.a,{value:"price,DESC",children:"Highest price"}),Object(Le.jsx)(Ln.a,{value:"price,ASC",children:"Lowest price"})]})]})}var _n=Object(ke.a)((function(e){return{sortForm:{margin:e.spacing(1),marginTop:"0px",width:"200px"},select:{fontSize:"12px"}}}));function Un(e){var t=e.autoComplete,a=e.setAutocomplete,n=In(),r=Object(o.b)(),c=Object(o.c)((function(e){return Object(d.a)({},e.homeReducer)})),i=c.searched,s=c.products,l=c.filter,u=c.order,j=function(e){r(Vt({name:e,filter:l,order:u})),r(Xt(e)),r($t("")),e.length>0&&s?a(!0):a(!1)};return Object(Le.jsxs)(Ct.a,{className:n.catalogueMainContainer,children:[Object(Le.jsxs)("div",{className:n.searchSortContainer,children:[Object(Le.jsxs)("div",{className:n.search,children:[Object(Le.jsx)("div",{className:n.searchIcon,children:Object(Le.jsx)(Pn.a,{})}),Object(Le.jsxs)("div",{className:n.demo,children:[Object(Le.jsx)(Rn.a,{placeholder:"Search\u2026",classes:{root:n.inputRoot,input:n.inputInput},inputProps:{"aria-label":"search"},onChange:function(e){return j(e.target.value)},value:i}),t&&s.length>1&&Object(Le.jsx)(Xe.a,{className:n.autoCompleteList,children:s.map((function(e){return Object(Le.jsx)($e.a,{onClick:function(){return j(e.name)},children:Object(Le.jsx)(at.a,{primary:e.name})})}))})]})]}),Object(Le.jsx)(Mn,{})]}),Object(Le.jsx)(Ue.a,{container:!0,spacing:1,className:n.gridContainer,children:s?s&&s.map((function(e){return Object(Le.jsx)(Ue.a,{item:!0,children:Object(Le.jsx)(zn,{className:n.productCard,product:e})},e.id)})):Object(Le.jsx)(Ue.a,{children:Object(Le.jsx)(fe.a,{variant:"h5",color:"primary",children:"Sorry, we couldn't find any product. Try with a different word"})})}),Object(Le.jsx)("div",{className:n.paginationContainer,children:Object(Le.jsx)(xn,{})})]})}var Wn=a(162),Fn=a.n(Wn),Hn=Object(ke.a)((function(e){return{color:{backgroundColor:"white",height:"100%"},divider:{backgroundColor:e.palette.primary.main,display:"flex",width:"100%"},filter:Object(we.a)({backgroundColor:"white",paddingBottom:e.spacing(40),paddingTop:e.spacing(3),paddingLeft:30},e.breakpoints.down("xs"),{display:"none"}),links:{color:e.palette.secondary.main},filter_responsive:Object(we.a)({},e.breakpoints.up("sm"),{display:"none"}),container:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing(1),minWidth:120},category_bttn:{display:"flex",textAlign:"center",width:"100%",backgroundColor:e.palette.secondary.main},root:{flexGrow:1,backgroundColor:e.palette.background.paper,display:"flex"},tabs:{borderRight:"1px solid ".concat(e.palette.divider)}}}));function Yn(){var e=Object(o.c)((function(e){return Object(d.a)({},e.homeReducer)})),t=e.searched,a=e.order,c=e.filter,i=e.categories,s=Object(n.useState)(!1),l=Object(pe.a)(s,2),u=l[0],j=l[1],b=r.a.useState(0),p=Object(pe.a)(b,2),h=p[0],m=p[1],O=Hn(),f=Object(o.b)();function x(){f(Kt()),f($t("")),f(Xt(""))}function g(e){f(Zt({name:t,category:e,order:a,filter:c})),f($t(e))}var v=function(){j(!1)};return Object(Le.jsxs)(Ue.a,{container:!0,className:O.color,children:[Object(Le.jsxs)(Fe.a,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",className:O.filter,elevation:3,children:[Object(Le.jsx)(ge.a,{color:"black",className:O.button,startIcon:Object(Le.jsx)(Oa.a,{}),onClick:function(){return x()},children:"get all"}),Object(Le.jsx)(Fe.a,{className:O.root,children:Object(Le.jsx)(dt.a,{orientation:"vertical",indicatorColor:"primary",indicator:O.indicator,textColor:"primary",value:h,onChange:function(e,t){m(t)},"aria-label":"Vertical tabs example",className:O.tabs,children:i?i.map((function(e){return Object(Le.jsx)(ut.a,{size:"small",label:e,onClick:function(){return g(e)}})})):Object(Le.jsx)("p",{children:"No Such Category"})})})]}),Object(Le.jsxs)(Ue.a,{className:O.filter_responsive,children:[Object(Le.jsxs)(ge.a,{className:O.category_bttn,onClick:function(){j(!0)},children:["Select Categories",Object(Le.jsx)(Fn.a,{})]}),Object(Le.jsx)(pt.a,{className:O.divider}),Object(Le.jsxs)(He.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:u,onClose:v,children:[Object(Le.jsx)(Ye.a,{children:"Select one category to search"}),Object(Le.jsx)(Ge.a,{children:Object(Le.jsx)("form",{className:O.container,children:Object(Le.jsxs)(qe.a,{className:O.formControl,children:[Object(Le.jsx)(Bn.a,{htmlFor:"demo-dialog-native",children:"Categories"}),Object(Le.jsxs)(Je.a,{native:!0,input:Object(Le.jsx)(Qe.a,{id:"demo-dialog-native"}),children:[Object(Le.jsx)("option",{onClick:function(){return x()},children:"All"}),i?i.map((function(e){return Object(Le.jsx)("option",{value:e,onClick:function(){return g(e)},children:e})})):Object(Le.jsx)("option",{"aria-label":"None",value:"",children:"No Such Category"})]})]})})}),Object(Le.jsx)(Ke.a,{children:Object(Le.jsx)(ge.a,{onClick:v,color:"primary",children:"Ok"})})]})]})]})}var Gn=a(163),qn=a.n(Gn),Jn=a(164),Qn=a(37),Kn=a(454),Zn=a(455),Vn=a(456),Xn=Object(ke.a)((function(e){return{root:{width:"101.7%",flexGrow:1,height:150,borderRadius:"2px",overflow:"hidden"},img:{height:150,display:"block",width:"100%",overflow:"hidden"},stepper:{backgroundColor:"rgba(0, 0, 0, 0)",height:20,position:"relative",top:"-35px"}}})),$n=Object(Jn.autoPlay)(qn.a),er=[{label:"1",imgPath:"./Banner02.jpg"},{label:"2",imgPath:"./Banner01.jpg"}];function tr(){var e=Xn(),t=Object(Qn.a)(),a=r.a.useState(0),n=Object(pe.a)(a,2),c=n[0],i=n[1],s=er.length;return Object(Le.jsxs)("div",{className:e.root,children:[Object(Le.jsx)($n,{axis:"rtl"===t.direction?"x-reverse":"x",index:c,onChangeIndex:function(e){i(e)},enableMouseEvents:!0,children:er.map((function(t,a){return Object(Le.jsx)("div",{children:Math.abs(c-a)<=2?Object(Le.jsx)("img",{className:e.img,src:t.imgPath,alt:t.label}):null},t.label)}))}),Object(Le.jsx)(Kn.a,{className:e.stepper,steps:s,position:"static",variant:"dots",activeStep:c,nextButton:Object(Le.jsx)(ge.a,{size:"small",onClick:function(){i((function(e){return e+1}))},disabled:c===s-1,color:"secondary",children:"rtl"===t.direction?Object(Le.jsx)(Zn.a,{}):Object(Le.jsx)(Vn.a,{})}),backButton:Object(Le.jsx)(ge.a,{size:"small",onClick:function(){i((function(e){return e-1}))},disabled:0===c,color:"secondary",children:"rtl"===t.direction?Object(Le.jsx)(Vn.a,{}):Object(Le.jsx)(Zn.a,{})})})]})}function ar(){var e=An(),t=Object(o.c)((function(e){return Object(d.a)({},e.authenticationReducer)})).user,a=(Object(o.c)((function(e){return Object(d.a)({},e.wishlistReducer)})).favorites,Object(o.b)()),r=Object(n.useState)(!1),c=Object(pe.a)(r,2),i=c[0],s=c[1];return Object(n.useEffect)((function(){a(Kt())}),[]),Object(n.useEffect)((function(){t&&a(Wt(t.email))}),[t]),Object(Le.jsx)(_e.a,{maxWidth:"lg",children:Object(Le.jsxs)(Ue.a,{container:!0,spacing:2,className:e.grid_container,children:[Object(Le.jsx)(Ue.a,{item:!0,sm:12,className:e.carousel,p:0,children:Object(Le.jsx)(Ct.a,{className:e.slide,elevation:3,children:Object(Le.jsx)(tr,{})})}),Object(Le.jsx)(Ue.a,{item:!0,xs:12,sm:2,className:e.filterGrid,children:Object(Le.jsx)(Yn,{setAutocomplete:s})}),Object(Le.jsx)(Ue.a,{item:!0,xs:12,sm:10,className:e.catalogueContainer,children:Object(Le.jsx)(Ct.a,{elevation:0,className:e.paperConfig,children:Object(Le.jsx)(Un,{autoComplete:i,setAutocomplete:s})})})]})})}var nr=a(93),rr=a.n(nr),cr=Object(ke.a)((function(e){return{root:Object(we.a)({borderRadius:e.shape.borderRadius},e.breakpoints.down("sm"),{width:"95%",marginLeft:5,marginBottom:40}),head:{backgroundColor:e.palette.primary.main,padding:6},title:{color:e.palette.secondary.main,fontWeight:"bold"},body:{backgroundColor:e.palette.secondary.main},tableContainer:Object(we.a)({marginBottom:15},e.breakpoints.down("sm"),{display:"none"}),tableContainerResponsive:Object(we.a)({marginBottom:3},e.breakpoints.up("md"),{display:"none"}),productName:Object(we.a)({marginLeft:15},e.breakpoints.down("sm"),{margin:0}),image:{boxShadow:"1px 1px 8px -1px rgba(0,0,0,0.6)"},divider:{color:e.palette.secondary.dark},quantityInput:Object(we.a)({width:75,borderRadius:5,backgroundColor:e.palette.common.white},e.breakpoints.down("sm"),{width:50}),subtotal:{margin:25},checkout:{margin:5},modal:{display:"flex",alignItems:"center",justifyContent:"center"}}})),ir=a(459);function sr(){return JSON.parse(localStorage.getItem("cart"))}function or(e,t){var a=JSON.parse(localStorage.getItem("cart")),n=a.findIndex((function(t){return t.id===e.id}));a[n].quantity=t;var r=JSON.stringify(a);localStorage.setItem("cart",r)}var lr=Object(ke.a)((function(e){return{root:{width:800,height:600,backgroundColor:e.palette.common.white,borderRadius:e.shape.borderRadius},container:{height:"100%",backgroundColor:e.palette.common.white,borderRadius:e.shape.borderRadius},components:{width:"100%",height:500},divider:{width:"100%"},stepper:{width:"100%",height:150}}})),ur=a(484),dr=a(457),jr=a(477),br=Object(ke.a)((function(e){return{root:{},stepperContainer:{width:"100%",height:"100%",backgroundColor:e.palette.common.white}}}));function pr(e){var t=e.steps,a=e.activeStep,n=br();return Object(Le.jsx)(Fe.a,{display:"flex",justifyContent:"center",alignItems:"center",children:Object(Le.jsx)(ur.a,{className:n.stepperContainer,activeStep:a,alternativeLabel:!0,children:t.map((function(e){return Object(Le.jsx)(dr.a,{children:Object(Le.jsx)(jr.a,{children:e})},e)}))})})}var hr=Object(ke.a)((function(e){return{address:{width:350},zip:{width:120},formControl:{margin:e.spacing(1),minWidth:250}}}));var mr="http://143.244.150.246/api";function Or(e){return function(){var t=Object(Ie.a)(Ae.a.mark((function t(a){var n,r;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:Q}),n=localStorage.getItem("jwt"),t.prev=2,t.next=5,Ee.a.post(mr+"/orders/payment/stripe",e);case 5:if(!t.sent.data.data.paymentStatus){t.next=12;break}return r={payment:{state:!0,method:"Stripe"}},t.next=10,Ee.a.post(mr+"/checkout/confirmpayment",r,{headers:{Authorization:n}});case 10:"paid"===t.sent.data.data.paymentStatus.status&&a({type:q});case 12:t.next=19;break;case 14:t.prev=14,t.t0=t.catch(2),a({type:K}),a({type:Z,payload:t.t0.response.data.data.message}),setTimeout((function(){return a({type:Z,payload:""})}),5e3);case 19:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(e){return t.apply(this,arguments)}}()}var fr=function(){var e=localStorage.getItem("jwt");return function(){var t=Object(Ie.a)(Ae.a.mark((function t(a){var n;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.a.get(mr+"/checkout/gettotal",{headers:{Authorization:e}});case 3:n=t.sent,a({type:H,payload:n.data.data.total}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()};function xr(e){var t=e.activeStep,a=e.setActiveStep,c=hr(),i=Object(o.b)(),s=Object(o.c)((function(e){return Object(d.a)({},e.checkoutReducer)})).payment,l=Object(o.c)((function(e){return Object(d.a)({},e.authenticationReducer)})).user,u=Object(o.c)((function(e){return e.checkoutReducer.customerInformation})),j=Object(n.useState)({street:"",neighborhood:"",city:"",zip:""}),b=Object(pe.a)(j,2),p=b[0],h=b[1],m=Object(n.useState)([]),O=Object(pe.a)(m,2),f=O[0],x=O[1],g=Object(n.useState)(""),v=Object(pe.a)(g,2),y=v[0],C=v[1],w=r.a.useState(["initial"]),k=Object(pe.a)(w,2),N=k[0],S=k[1],A=Object(n.useState)(!1),I=Object(pe.a)(A,2),R=I[0],E=I[1],P=Object(n.useState)(null),T=Object(pe.a)(P,2),z=T[0],B=T[1];Object(n.useEffect)((function(){(function(){var e=Object(Ie.a)(Ae.a.mark((function e(){var t,a,n;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("jwt"),e.prev=1,e.next=4,Ee.a.get("http://143.244.150.246/api/shippingaddress/",{headers:{Authorization:t}});case 4:return a=e.sent,n=a.data.data.userAddresses,e.abrupt("return",x(n));case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){u.street&&h(u)}),[]),Object(n.useEffect)((function(){s.state&&a(t+1)}),[]);var L=function(e){h(Object(d.a)(Object(d.a)({},p),{},Object(we.a)({},e.target.name,e.target.value)))};function M(e){e.preventDefault();var n=function(e){var t={},a=ka(e.street);a&&(t.street=a);var n=Na(e.zip);n&&(t.zip=n);var r=Sa(e.city);return r&&(t.city=r),t}(p);return 0===Object.keys(n).length?(i(function(e){var t=localStorage.getItem("jwt");return function(){var a=Object(Ie.a)(Ae.a.mark((function a(n){var r;return Ae.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Ee.a.post(mr+"/checkout/setshippingaddress",e,{headers:{Authorization:t}});case 3:r=a.sent,n({type:Y,payload:r.data.data.shippingAddress}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}(p)),a(t+1)):(S(Object.values(n).reduce((function(e,t){return[].concat(Object(D.a)(e),Object(D.a)(t))}),[])),E(!0),B(e.currentTarget))}return Object(Le.jsx)("form",{onSubmit:function(e){return M(e)},children:Object(Le.jsxs)(Fe.a,{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",m:2,children:[Object(Le.jsx)(Fe.a,{mb:4,children:Object(Le.jsx)(fe.a,{variant:"h3",color:"primary",children:"Customer Information"})}),Object(Le.jsx)(Fe.a,{display:"flex",justifyContent:"space-around",alignItems:"center",width:"100%",my:3,children:Object(Le.jsx)(Fe.a,{children:Object(Le.jsxs)(fe.a,{variant:"h6",color:"initial",children:[l.name," please fill the shipping address information for your order "]})})}),Object(Le.jsx)(Fe.a,{display:"flex",width:"100%",justifyContent:"flex-start",ml:3,children:Object(Le.jsx)(fe.a,{variant:"h5",color:"initial",children:"Shipping adress: "})}),Object(Le.jsxs)(Fe.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",children:[Object(Le.jsxs)(Fe.a,{display:"flex",justifyContent:"space-between",alignItems:"center",width:"93%",mb:2,mt:3,children:[Object(Le.jsx)(At.a,{className:c.address,name:"street",label:"Address",variant:"outlined",value:p.street,onChange:L,size:"small",disabled:y}),Object(Le.jsx)(At.a,{name:"zip",label:"Postal code",variant:"outlined",value:p.zip,onChange:L,size:"small",disabled:y})]}),Object(Le.jsxs)(Fe.a,{display:"flex",justifyContent:"space-between",alignItems:"center",width:"93%",my:1,children:[Object(Le.jsx)(At.a,{name:"neighborhood",label:"Neighborhood",variant:"outlined",value:p.neighborhood,onChange:L,size:"small",disabled:y}),Object(Le.jsx)(At.a,{name:"city",label:"City",variant:"outlined",value:p.city,onChange:L,size:"small",disabled:y})]})]}),Object(Le.jsxs)(Fe.a,{display:"flex",justifyContent:"center",alignItems:"center",mt:3,children:[Object(Le.jsx)(ge.a,{variant:"contained",color:"primary",type:"submit",children:"Confirm Information"}),f.length>0&&Object(Le.jsxs)(qe.a,{variant:"outlined",className:c.formControl,size:"small",children:[Object(Le.jsx)(Bn.a,{children:"Saved Addresses"}),Object(Le.jsxs)(Je.a,{value:y,onChange:function(e){if(C(e.target.value),!e.target.value)return h({street:"",neighborhood:"",city:"",zip:""});h({street:e.target.value.street,neighborhood:e.target.value.neighborhood,city:e.target.value.city,zip:e.target.value.zip})},label:"Saved addresses",children:[Object(Le.jsx)(Ln.a,{value:"",children:Object(Le.jsx)("em",{children:"None"})}),f.map((function(e){return Object(Le.jsx)(Ln.a,{value:e,children:e.street})}))]})]})]}),Object(Le.jsx)(Ht.a,{open:R,anchorEl:z,onClose:function(){return E(!1)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(Le.jsx)(Fe.a,{p:2,children:N.map((function(e){return Object(Le.jsxs)(fe.a,{children:["- ",e]})}))})})]})})}var gr=Object(ke.a)((function(e){return{root:{},demo:{backgroundColor:e.palette.common.white},title:{margin:4,color:e.palette.primary.main},list:{maxHeight:200,overflow:"auto"},button:{margin:16},confirmOrderSuccess:{color:e.palette.success.main}}}));function vr(e){e.activeStep,e.setActiveStep;var t=gr(),a=Object(o.b)(),r=Object(he.e)(),c=Object(o.c)((function(e){return Object(d.a)({},e.checkoutReducer)})),i=c.subtotal,s=c.payment,l=c.customerInformation,u=c.confirmOrder,j=Object(o.c)((function(e){return Object(d.a)({},e.cartReducer)})).cart,b=Object(n.useState)(!1),p=Object(pe.a)(b,2),h=p[0],m=p[1],O=Object(n.useState)(!1),f=Object(pe.a)(O,2),x=f[0],g=f[1];function v(e){var t;a((t={subtotal:i,cart:j,customerInformation:l},function(){var e=Object(Ie.a)(Ae.a.mark((function e(a){var n,r;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:Q}),n=localStorage.getItem("jwt"),e.prev=2,e.next=5,Ee.a.post(mr+"/orders/confirm_order",t,{headers:{Authorization:n}});case 5:(r=e.sent).data.data.result&&(localStorage.removeItem("cart"),localStorage.removeItem("checkout"),localStorage.removeItem("customerInformation"),a({type:V,payload:r.data.data.message}),setTimeout((function(){return a({type:ae})}),5e3),setTimeout((function(){return a({type:$})}),5e3),setTimeout((function(){return a({type:V,payload:""})}),5e3),setTimeout((function(){return a(De(n))}),5e3)),e.next=17;break;case 9:if(e.prev=9,e.t0=e.catch(2),a({type:K}),!e.t0.response){e.next=15;break}return a({type:X,payload:e.t0.response.data.data.message}),e.abrupt("return",setTimeout((function(){return a({type:X,payload:""})}),5e3));case 15:a({type:X,payload:"We couldn`t connect to the server, sorry"}),setTimeout((function(){return a({type:X,payload:""})}),5e3);case 17:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()))}return Object(n.useEffect)((function(){if(u.success)return m(!0),setTimeout((function(){return r.push("/")}),4e3)}),[u.success]),Object(n.useEffect)((function(){if(u.error)return g(!0)}),[u.error]),Object(Le.jsxs)(Fe.a,{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",m:2,children:[u.success?Object(Le.jsx)(Fe.a,{mt:8,isplay:"flex",justifyContent:"center",alignItems:"center",children:Object(Le.jsx)(fe.a,{variant:"h3",align:"center",className:t.confirmOrderSuccess,children:"Your order is confirmed, thank you."})}):Object(Le.jsxs)(Fe.a,{children:[Object(Le.jsxs)(Fe.a,{width:"100%",justifyContent:"center",ml:3,children:[Object(Le.jsx)(fe.a,{variant:"h6",className:t.title,children:"Order Detail"}),Object(Le.jsx)(Fe.a,{className:t.demo,children:Object(Le.jsx)(Xe.a,{className:t.list,children:j.map((function(e){return Object(Le.jsxs)($e.a,{divider:!0,children:[Object(Le.jsx)(et.a,{children:Object(Le.jsx)(tt.a,{src:e.Images[0].url})}),Object(Le.jsx)(at.a,{primary:"".concat(e.name),secondary:"Quantity x ".concat(e.quantity)})]})}))})})]}),Object(Le.jsxs)(Fe.a,{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",children:[Object(Le.jsx)(fe.a,{variant:"h5",color:"default",children:"Payment status: ".concat(s.state?"Paid":"Pending"," - Method: ").concat(s.method)}),Object(Le.jsx)(fe.a,{variant:"h5",color:"default",children:"Total: $".concat(i)})]}),Object(Le.jsx)(Fe.a,{display:"flex",justifyContent:"center",alignItems:"center",m:3,children:Object(Le.jsx)(ge.a,{variant:"contained",color:"primary",onClick:function(e){return v()},children:"Confirm Order"})})]}),Object(Le.jsx)(It.a,{open:h,autoHideDuration:3e3,onClose:function(){return m(!1)},variant:"filled",children:Object(Le.jsx)(Rt.a,{onClose:function(){return m(!1)},severity:"success",children:u.success})}),Object(Le.jsx)(It.a,{open:x,autoHideDuration:3e3,onClose:function(){return g(!1)},variant:"filled",children:Object(Le.jsx)(Rt.a,{onClose:function(){return g(!1)},severity:"error",children:u.error})})]})}var yr=a(458),Cr=Object(ke.a)((function(e){return{boxPayment:{width:"100%"},tabContainer:{height:280},button:{margin:16}}})),wr=Object(ke.a)((function(e){return{paymentBox:Object(we.a)({width:"75%"},e.breakpoints.down("sm"),{width:"100%"}),logo:{width:150},truePayment:{color:e.palette.success.main}}})),kr=a(165),Nr=a(63),Sr=Object(kr.a)("pk_test_51J4RMHFCLZ4vR0JaXwIiPvw8IRjpjfkgTmDW6fQN2qSKtMme3VsfayegaFq6tdjtYCKTNI5cdVytzkjkUXTBORkN009e78k1ql");function Ar(){var e=wr(),t=Object(Nr.useStripe)(),a=Object(Nr.useElements)(),r=Object(o.b)(),c=Object(o.c)((function(e){return Object(d.a)({},e.checkoutReducer)})),i=c.subtotal,s=c.customerInformation,l=Object(n.useState)(!1),u=Object(pe.a)(l,2),j=u[0],b=u[1];function p(){return(p=Object(Ie.a)(Ae.a.mark((function e(n){var c,o,l;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!a.getElement(Nr.CardElement)){e.next=12;break}return e.next=5,t.createPaymentMethod({billing_details:{address:{city:s.city,country:"US",line1:s.street},email:s.email,name:"".concat(s.name," ").concat(s.lastName)},type:"card",card:a.getElement(Nr.CardElement)});case 5:if(c=e.sent,o=c.error,l=c.paymentMethod,o){e.next=10;break}return e.abrupt("return",r(Or({subtotal:(100*i).toFixed(0),paymentId:l.id})));case 10:if(!o){e.next=12;break}return e.abrupt("return",b(!0));case 12:b(!0);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(Le.jsxs)("form",{onSubmit:function(e){return function(e){return p.apply(this,arguments)}(e)},children:[Object(Le.jsx)(Nr.CardElement,{options:{style:{base:{fontSize:"16px"}},value:{postalCode:s.zip}}}),Object(Le.jsx)(Fe.a,{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",mt:4,children:Object(Le.jsx)(ge.a,{type:"submit",variant:"contained",color:"primary",className:e.button,children:"Confirm Payment"})}),Object(Le.jsx)(It.a,{open:j,autoHideDuration:3e3,onClose:function(){return b(!1)},variant:"filled",children:Object(Le.jsx)(Rt.a,{onClose:function(){return b(!1)},severity:"error",children:"Please check the card details"})})]})}function Ir(){var e=Object(o.c)((function(e){return Object(d.a)({},e.checkoutReducer)})),t=e.payment,a=e.subtotal,r=Object(n.useState)(!1),c=Object(pe.a)(r,2),i=c[0],s=c[1],l=wr();return Object(n.useEffect)((function(){return t.errorMessage?s(!0):t.errorMessage?void 0:s(!1)}),[t.errorMessage]),Object(Le.jsxs)(Fe.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",children:[Object(Le.jsx)(Fe.a,{my:2,children:Object(Le.jsx)(tt.a,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUUAAACbCAMAAADC6XmEAAAAk1BMVEX///9jW/9hWf9eVv9ZUP9cU/+VkP/8/P9pYf+Ce/+rqP/LyP9eVf/j4v9YT//6+f/p6P+cmP9ya//o5v+kn/+Jg//29f9mXv/u7v/Y1v91bv+opP9vaP/Ixv+alf+8uf+Oif97df/Rz//Cv//d2//y8f9TSv+2sv+Nh//b2f95cv+xrv/Ewf+Ff/9+eP/Pzf9IPf8JRI9kAAAKiUlEQVR4nO2d6YKivBJApZLY2kLcF9xFRVub9r7/010WF0gCIh3U+brOv3EIJGeyVgJTqSAIgiAIgiAIgiAIgiAIgiAIgiAIgiAIgvyOpr2bfLw6E/801rp94Jz/oMWCtGafP9SlJhgG1NHi42xPxz64lIFvMAAtFmHiMnIWiBYL88mMBGixCGhRB2gxjjWbF0qHFs+MnKNHGOWFEqPFSmVgL6o1woJhFkihO/x1i9Z3uwOBwGiighaLMOhwE2IzPbRYhMEYksWHQrdJWgRCV2jxcW4WwWTc8CaO5ny+N5JFo9BtQotAGKeH+WIz+FMVsaLPIvfnSNPl0dk2NWfwn0CTxWO9990aaM7bv4NkcVjoNs2/1oaTaLL4x0GLOkCLuRhZ68l83/e8fr/aPn5vRslBVLJYy33nQcs+OdaoUI+4tXfzpeft50dnlP95s8/q3qt7yyDV8zriD+vYr3HKTBJh+tMROFQX3ZtJ0aIxbMcJi7iZx3+aL8KEVnvszw45N+ot/0+zxCX+RZ9RKY/LaozlLsqWU53yKFPBFL0/yzG4N+32mF5K4qeC+rGr2VbKg2ceS+6GRIsTQumhtzmLlCwa5g1mBoYqM9eM/zgOkvUYu4QvLP/PE24moOed1ColMdg0+M354WZi5U6nuzuzzOb6kEgTFIOx5aY0d1caBy4pvOaB8fE2vEq2GL/MCC02aOJXPqhsf+glGUBgMS0aUSWJn12/h1ny5G/B1XRsZxXlNOaKXPprzXnu7qAY26XqwfECtQpbtD9WN2kPWeSWPRSuvHicpBelmlYUYLVTmRI3U2Vm4wUqbJEterGbP2SR7M00IXSf0qoziwJ0V55EG6RWI1LcInQSf3rEopHax/j/OCulRie7KEA/y5JoQXZrDihu0RC6+UcsZsHqiqI02J2ilKZxMM2R919YTF6jzaLBllJRvu7XB2DfpVic3+sTAy4WO+9j0eALoSSt4f1GdZ5r6ebrXiOIcvyGFi8ThwsfnpknFfkpwaKXK+dvaVHwccx6cIwSBmorYxyM8ZYWDbcRK0krxyAZPW241W3xmKdXfFeLiWDIUm7PhFF/NS1lmfV0WzzIWgjlPv7jY9X0pRb9xZupbjL8Vhm/pOpAXG9t26fPobiYAUNzZdxKzQD4fu1sNvZpPfEgOjBspFsEN043yyIAIfC4RcL5z7zX8yhVLY7H15LsxbTUuyybv8UlEBVH91+yEZsBDOMTgVGjbfCgSaRYhNoozkeqRWCueejvfwz3MYvgepe96vVQMQS7l4CX1L/z2PR6VBOy3dFr8SQWmTXESzY94JBqUb6lyiIzjud/nG0QHcxtEWgsftDcy3dml7DERLhlsu/rCk2O6Y2SfYvLtWFLcdXs8L/fWAQ+SS5681oEIxlbrUp93yUDH2LGhNq2S6Zk6TGhIizE8igt+mrO8cUiFoGJAam8Fk3hkGlzJTX588zbFqui0KQG0+RyXm+TXkgtOnNKWsii3EkUteh34+IQw6KBQmjQcr7ayQNWoK4sBZlJFQeyIplFLEJN2joqbFGQ4UOq4e8ruJPQEaKeWuO1YksIJmft9H+nYhalSGBxi12xMkK4OTMS4hBUCtwIkQq9E2/FsgmYMU8bwl5uUZ4WusGgL065mbQxI3SMxHvM0x2mqrmsaR6OyvjRky2em2uctdgF8a+K3L0rol/JyOgDG+l5EAt0eQqD1UJu2a+3OBKXxXTm/9oWJuRQ7YkkJ94AWvcDu2kxHQBq9E+CAKFdvMBiU1z4h5MKKbxHmIDQn+qO1WaEuoHQ8S5xEuH1FqVrwgl01kaGGrnn/BXbWlYOgE7XsYnKG1gUl3pm26+gqt49G6p5a9rJ3jIA+nMbsd/AorjaCq4ZZNYEJWF3qpP1nZ0XQq6BpDewKK78yfJee1JC1/oEnjN2Z1f/dqDjDSyKqy2ylyfdOWCaQ4w+m8Od6ngJ1r2jxeW7WKwMJkamRzgvqd7AojjtDq55ixYd0JpDlsdzxOwNLIrbbcEYXWR0KeeIRKXbq9H0bVUWLmmfbXEp374nLpn9PvujwExH9xh9ZfvtpVZIIEHY+Q0siuGIcO0iz7rhDlQKemrEOnbExdIlt8EA83qLYg6iptmXt73uWSz1QGilYs+VIw0EZ69fb9HiQr54sEcoRiPYsWvdofQX6LY7xUHgMMj+eovSWQ43CM7sFJ3l6xn05D10br+BxY8fMdYdfi1ADNnDSreRYjTElhMeKJAsKt4y12lxL6a0pX2i8EiteHJRc/iwOGLsxO9rFH27K7/UVKpFaRg5b6CIg3T2VqZ29mkroa5YGYO+RrIYxuuTlGlxJreQaMYiziJh+NT31/vuUP0q09bNY1HRjeu02E+m6xpSb+1GY63U0hWnvkukT4DStmLPz5bqoqpFA5M6II0WhaPbI/kcPxyiv5LXgDR9r3StfewJOhow3an0tqE4GIbTW/n8InTEs4A6LRp8ebu9Y8gBvGtoZi4dKKOeckq46TE+LawrhXN3DYzDfHYzaf1IM0ZuBQdlpCZFyC6qjtairjy/+CuLBuHVRhAI2TY81Ztp7kXyRp7hEt4TtqhGp/aQM9B98C4+6IFJKesse5/HybJG5bZTC2Qt5XICo0ZnXGOUEvVbQ7+yGBztjXbxlH936zgVp/z9nNXmi4Zj27YzW7Trft8Vrm7LtBg+F4jJFC/4XjMszX/OyXxS3736pcXoAerf3dsUwVHnzDzvpNLYoeayLWYQneJ1pKlGLMflWUx74iF2032ut13CZC+zCMOw99tmxOafb9GNbyqL52UzyvIyi5eJoTwW3jL3bIvmMnHXXc63hl5nEWrnwXCT3qSfbRGoMMmSDyynJHyVRX4NsCtezrlk7skWXTFcPVjl6xpfZZHfFgKt9M9LPNeiYnEyGueqjS+yyKux0M1aXGBfM/dUi1SxP1gZyYsFVUZfYRF4OxH/mqR0jU+1qJToN+rUb2/EH6fdonf3H89f4glpeuqclmBxmLIlmfERk0X2+YQw8SEtcVEWB5r2oZDIIffk85I75XLs/I6P1h2DNSgGjOxPuozmKbuYUVpCp0ftb/ZWmk61lvzwcTy7tK7M79dKro5AWFQXubBpqbKYvIKkR2mtvnjUABj0svcDNlVDfT7BzyKrr0va/ds67QPw4CPc10cHRWO005ZD2REf6wO//vcs4dWU1L+jtyldkkQOO09o8gqWFet2PPPyfXD/OSaf9u5/Mqx1rBNukngGg8/gDr2jVeZ325qt02R/mALl1IdzUlstd5l7tk27vRqGl3MO01V1cSnboNtK0JUP2W+7AudLUvYAraM3JcE722Zt1T7lbI6tWa8+HjIeQoadevVoP2VLqznqWvapMTs5m26eb+19tCxnNmvYVq6rc5C+k7r1c2ZvHv3w4GBkWRvHT2eN9HeFb0ueczrIPdCiDvKcX0TugRZ1gBZ1gBZ1gBZ1gBZ1gBZ1gBZ1kOOLB8hd0KIO0KIOpPfwsV8sQMxiEFR1a889nf0fIbIYRNld2O+cP/lfi/2eqgkmdVl9MnuTFy3+SZbuob0u43Paf4oWtmEEQRAEQRAEQRAEQRAEQRAEQRAEQRAEQXLyf8vqy2tGJELxAAAAAElFTkSuQmCC",variant:"rounded",className:l.logo})}),t.state?Object(Le.jsxs)(Fe.a,{mt:5,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[Object(Le.jsx)(fe.a,{variant:"h3",className:l.truePayment,children:" This order is already paid"}),Object(Le.jsx)(fe.a,{variant:"h6",children:" Please proceed to confirm the order"})]}):Object(Le.jsxs)(Fe.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"90%",children:[Object(Le.jsx)(Fe.a,{mt:2,mb:3,children:Object(Le.jsx)(fe.a,{variant:"body1",color:"secondary.dark",children:"Fill the card information to complete the payment"})}),Object(Le.jsx)(Fe.a,{mb:3,children:Object(Le.jsxs)(fe.a,{variant:"h5",className:l.truePayment,children:["Total order: ","$".concat(a)]})}),Object(Le.jsx)(Fe.a,{className:l.paymentBox,children:Object(Le.jsx)(Nr.Elements,{stripe:Sr,children:Object(Le.jsx)(Ar,{})})})]}),Object(Le.jsx)(It.a,{open:i,autoHideDuration:3e3,onClose:function(){return s(!1)},variant:"filled",children:Object(Le.jsx)(Rt.a,{onClose:function(){return s(!1)},severity:"error",children:t.errorMessage})})]})}var Rr=Object(ke.a)((function(e){return{root:{},button:{padding:"15px",marginTop:20,backgroundColor:e.palette.common.white},truePayment:{color:e.palette.success.main},logo:{width:150}}}));function Er(){var e=Rr(),t=Object(o.b)(),a=Object(o.c)((function(e){return Object(d.a)({},e.checkoutReducer)})),r=a.url,c=a.subtotal,i=a.payment,s=Object(o.c)((function(e){return Object(d.a)({},e.cartReducer)})).cart;function l(){var e;t((e=s,function(){var t=Object(Ie.a)(Ae.a.mark((function t(a){return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{Ee.a.post(mr+"/create_preference",{params:e}).then((function(e){return e.data})).then((function(e){a({type:G,payload:{id:e.response.id,url:e.response.init_point}})}))}catch(n){a(n)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}return Object(n.useEffect)((function(){if(r&&""!==r)window.open(r)}),[r]),Object(Le.jsx)(Le.Fragment,{children:Object(Le.jsx)(Fe.a,{display:"flex",flexDirection:"column",marginTop:"30px",justifyContent:"center",alignItems:"center",width:"100%",children:i.state?Object(Le.jsxs)(Fe.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",children:[Object(Le.jsx)(tt.a,{src:"https://seeklogo.com/images/M/mercado-pago-logo-CC340D0497-seeklogo.com.png",variant:"rounded",className:e.logo}),Object(Le.jsxs)(Fe.a,{mt:5,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[Object(Le.jsx)(fe.a,{variant:"h3",className:e.truePayment,children:" This order is already paid"}),Object(Le.jsx)(fe.a,{variant:"h6",children:" Please proceed to confirm the order"})]})]}):Object(Le.jsxs)(Fe.a,{children:[Object(Le.jsxs)(fe.a,{variant:"h5",className:e.truePayment,children:["Total order: ","$".concat(c)]}),Object(Le.jsx)(fe.a,{variant:"h6",color:"common-black",children:"Go to MercadoPago:"}),Object(Le.jsx)(ge.a,{type:"submit",variant:"contained",className:e.button,onClick:function(){return l()},children:Object(Le.jsx)("img",{src:"./mercadopago-logo.png",alt:"Mercado Pago Logo"})})]})})})}function Pr(e){var t=e.activeStep,a=e.setActiveStep,r=Cr(),c=Object(o.c)((function(e){return Object(d.a)({},e.checkoutReducer)})).payment,i=Object(n.useState)(0),s=Object(pe.a)(i,2),l=s[0],u=s[1];return Object(Le.jsxs)(Fe.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",children:[Object(Le.jsx)(fe.a,{variant:"h3",color:"primary",children:"Payment"}),Object(Le.jsxs)(Fe.a,{height:"343px",className:r.boxPayment,children:[Object(Le.jsxs)(dt.a,{value:l,onChange:function(e,t){u(t)},width:"100%",centered:!0,children:[Object(Le.jsx)(ut.a,{label:"Stripe"}),Object(Le.jsx)(ut.a,{label:"MercadoPago"})]}),function(e){return c.loading?Object(Le.jsx)(Fe.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"280px",children:Object(Le.jsx)(yr.a,{})}):0===e?Object(Le.jsx)(Ir,{}):1===e?Object(Le.jsx)(Er,{}):void 0}(l)]}),Object(Le.jsx)(Fe.a,{width:"100%",children:Object(Le.jsx)(pt.a,{})}),Object(Le.jsxs)(Fe.a,{display:"flex",justifyContent:"center",alignItems:"center",children:[Object(Le.jsx)(ge.a,{variant:"contained",color:"primary",onClick:function(){return a(t-1)},className:r.button,children:"Back"}),Object(Le.jsx)(ge.a,{variant:"contained",color:"primary",onClick:function(){return function(){if(c.state)return a(t+1)}()},className:r.button,disabled:!c.state,children:"Next"})]})]})}function Dr(e){e.subtotal;var t=lr(),a=Object(n.useState)(0),r=Object(pe.a)(a,2),c=r[0],i=r[1],s=Object(o.c)((function(e){return Object(d.a)({},e.checkoutReducer)})).payment;return Object(n.useEffect)((function(){s.state&&i(2)}),[s]),Object(Le.jsx)(Ct.a,{className:t.root,elevation:24,variant:"elevation",children:Object(Le.jsxs)(Fe.a,{p:2,className:t.container,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[Object(Le.jsx)(Fe.a,{className:t.components,children:function(e){return 0===e?Object(Le.jsx)(xr,{activeStep:e,setActiveStep:i}):1===e?Object(Le.jsx)(Pr,{activeStep:e,setActiveStep:i}):2===e?Object(Le.jsx)(vr,{activeStep:e,setActiveStep:i}):void 0}(c)}),Object(Le.jsx)(pt.a,{className:t.divider}),Object(Le.jsx)(Fe.a,{className:t.stepper,children:Object(Le.jsx)(pr,{steps:["Customer information","Payment","Confirm order"],activeStep:c})})]})})}function Tr(){var e="http://143.244.150.246/api",t=cr(),a=Object(o.b)(),r=Object(he.e)(),c=Object(o.c)((function(e){return Object(d.a)({},e.checkoutReducer)})).payment,i=Object(o.c)((function(e){return Object(d.a)({},e.authenticationReducer)})).logged,s=Object(o.c)((function(e){return Object(d.a)({},e.cartReducer)})).cart,l=Object(n.useState)([]),u=Object(pe.a)(l,2),j=u[0],b=u[1],p=Object(n.useState)(0),h=Object(pe.a)(p,2),m=h[0],O=h[1],f=Object(n.useState)([]),x=Object(pe.a)(f,2),g=x[0],v=x[1],y=Object(n.useState)(null),C=Object(pe.a)(y,2),w=C[0],k=C[1],N=Object(n.useState)(!1),S=Object(pe.a)(N,2),A=S[0],I=S[1],R=Object(n.useState)(!1),E=Object(pe.a)(R,2),P=E[0],D=E[1],T=Object(n.useState)(!1),z=Object(pe.a)(T,2),B=z[0],L=z[1],M=Object(n.useState)(!1),_=Object(pe.a)(M,2),U=_[0],W=_[1],F=Object(n.useState)(!1),H=Object(pe.a)(F,2),Y=H[0],G=H[1],q=Object(n.useState)(null),J=Object(pe.a)(q,2),Q=J[0],K=J[1],Z=Object(n.useState)(!1),V=Object(pe.a)(Z,2),X=V[0],$=V[1],ee=Object(he.f)(),te=rr.a.parse(ee.search);function ae(e,t){return c.state?I(!0):t.target.value>e.stock?(i&&a(Lt(e,Number(e.stock))),i||(or(e,Number(e.stock)),b(sr())),k(e),W(!0)):0===Number(t.target.value)?(j.find((function(t){return t.id===e.id})).quantity=1,i?a(Lt(e,1)):(or(e,1),b(sr()))):i?void a(Lt(e,Number(t.target.value))):(or(e,Number(t.target.value)),b(sr()))}function re(e){return c.state?I(!0):i?void a(function(e){var t=localStorage.getItem("jwt");return function(){var a=Object(Ie.a)(Ae.a.mark((function a(n){var r;return Ae.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Ee.a.put(Bt+"/cart/delete",{product:e},{headers:{Authorization:t}});case 3:r=a.sent,n({type:ne,payload:r.data.data.cart}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}(e)):(function(e){var t=JSON.parse(localStorage.getItem("cart")).filter((function(t){return t.id!==e.id})),a=JSON.stringify(t);localStorage.setItem("cart",a)}(e),a(Mt()),b(sr()))}function ce(e){if(c.state)return I(!0);if(!i&&localStorage.getItem("cart"))return localStorage.removeItem("cart"),b([]),a(Mt());a(function(){var e=localStorage.getItem("jwt");return function(){var t=Object(Ie.a)(Ae.a.mark((function t(a){var n;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.a.delete(Bt+"/cart/clear",{headers:{Authorization:e}});case 3:n=t.sent,a({type:ne,payload:n.data.data.cart}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}())}function ie(){return(ie=Object(Ie.a)(Ae.a.mark((function t(n,r){var s,o,l,u;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!i){t.next=27;break}if(!(r&&r.length>0)){t.next=24;break}return s=r.map((function(e){return e.id})),t.prev=3,t.next=6,Ee.a.post(e+"/products/stockbyid",{idArray:s});case 6:if(o=t.sent,l=o.data.data.productList,u=[],r.forEach((function(e){var t=l.find((function(t){return t.id===e.id}));t.stock<e.quantity&&u.push(t)})),!(u.length>0)){t.next=15;break}return v(u),G(!0),console.log(n),t.abrupt("return",K(n.target));case 15:c.state||a(fr()),$(!0),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(3),console.log(t.t0);case 22:t.next=25;break;case 24:D(!0);case 25:t.next=28;break;case 27:L(!0);case 28:case"end":return t.stop()}}),t,null,[[3,19]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){if(!i)return b(sr());b(s)}),[]),Object(n.useEffect)((function(){"approved"===te.status&&a(function(){var e=Object(Ie.a)(Ae.a.mark((function e(t){var a,n;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={payment:{state:!0,method:"MercadoPago"}},n=localStorage.getItem("jwt"),e.next=4,Ee.a.post(mr+"/checkout/confirmpayment",a,{headers:{Authorization:n}});case 4:"paid"===e.sent.data.data.paymentStatus.status&&t({type:"CONFIRM_MERCADOPAGO_PAYMENT"});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[te]),Object(n.useEffect)((function(){!1!==c.state&&$(!0)}),[c.state]),Object(n.useEffect)((function(){i&&b(s)}),[s]),Object(n.useEffect)((function(){if(!i){if(j&&j.length>0)return O(j.map((function(e){return e.price*e.quantity})).reduce((function(e,t){return e+t})));O(0)}}),[j]),Object(n.useEffect)((function(){if(i){if(s&&s.length>0)return O(s.map((function(e){return e.price*e.quantity})).reduce((function(e,t){return e+t})));O(0)}}),[s]),Object(Le.jsx)(Fe.a,{bgcolor:"secondary.main",mt:6,m:5,p:{xs:0,sm:5},className:t.root,children:j&&j.length>0?Object(Le.jsxs)(Fe.a,{children:[Object(Le.jsx)(ba.a,{component:Ct.a,className:t.tableContainer,children:Object(Le.jsxs)(pa.a,{"aria-label":"customized table",children:[Object(Le.jsx)(ha.a,{className:t.head,children:Object(Le.jsxs)(aa.a,{children:[Object(Le.jsx)(na.a,{className:t.title,children:"Product"}),Object(Le.jsx)(na.a,{align:"center",className:t.title,children:"Quantity"}),Object(Le.jsx)(na.a,{align:"center",className:t.title,children:"Unit price"}),Object(Le.jsx)(na.a,{align:"center",className:t.title,children:"Total price"}),Object(Le.jsx)(na.a,{align:"center",className:t.title,children:"Delete"})]})}),Object(Le.jsx)(ma.a,{children:j&&j.map((function(e){return Object(Le.jsxs)(aa.a,{children:[Object(Le.jsx)(na.a,{align:"center",children:Object(Le.jsxs)(Fe.a,{display:"flex",justifyContent:"flex-start",alignItems:"center",children:[Object(Le.jsx)(tt.a,{src:e.Images[0].url,className:t.image}),Object(Le.jsx)(fe.a,{className:t.productName,display:"inline",variant:"h6",color:"initial",children:e.name})]})}),Object(Le.jsx)(na.a,{align:"center",children:Object(Le.jsx)(At.a,{size:"small",value:e.quantity,onChange:function(t){return ae(e,t)},className:t.quantityInput,type:"number",InputLabelProps:{shrink:!0},InputProps:{inputProps:{max:e.stock,min:1}},variant:"outlined"})}),Object(Le.jsxs)(na.a,{align:"center",children:["$",e.price," EA"]}),Object(Le.jsxs)(na.a,{align:"center",children:["$",(e.price*e.quantity).toFixed(2)]}),Object(Le.jsx)(na.a,{align:"center",children:Object(Le.jsx)(St.a,{variant:"contained",color:"primary","aria-label":"delete",onClick:function(t){return re(e)},children:Object(Le.jsx)(va.a,{})})})]},e.name)}))})]})}),Object(Le.jsx)(ba.a,{component:Ct.a,className:t.tableContainerResponsive,children:Object(Le.jsxs)(pa.a,{"aria-label":"customized table",children:[Object(Le.jsx)(ha.a,{className:t.head,children:Object(Le.jsxs)(aa.a,{children:[Object(Le.jsx)(na.a,{className:t.title,children:"Product"}),Object(Le.jsx)(na.a,{align:"center",className:t.title,children:"Quantity"}),Object(Le.jsx)(na.a,{align:"center",className:t.title,children:"Total price"}),Object(Le.jsx)(na.a,{align:"center",className:t.title,children:"Delete"})]})}),Object(Le.jsx)(ma.a,{children:j&&j.map((function(e){return Object(Le.jsxs)(aa.a,{children:[Object(Le.jsx)(na.a,{align:"center",children:Object(Le.jsxs)(Fe.a,{justifyContent:"flex-start",alignItems:"center",children:[Object(Le.jsx)(tt.a,{src:e.Images[0].url}),Object(Le.jsx)(fe.a,{className:t.productName,variant:"p",color:"initial",children:"".concat(e.name.substr(0,20),"...")})]})}),Object(Le.jsx)(na.a,{align:"center",children:Object(Le.jsx)(At.a,{size:"small",value:e.quantity,onChange:function(t){return ae(e,t)},className:t.quantityInput,InputLabelProps:{shrink:!0},InputProps:{inputProps:{max:e.stock,min:1}},variant:"outlined"})}),Object(Le.jsxs)(na.a,{align:"center",children:["$",(e.price*e.quantity).toFixed(2)]}),Object(Le.jsx)(na.a,{align:"center",children:Object(Le.jsx)(St.a,{variant:"contained",color:"primary","aria-label":"delete",onClick:function(t){return re(e)},children:Object(Le.jsx)(va.a,{})})})]},e.name)}))})]})}),Object(Le.jsx)(pt.a,{className:t.divider}),Object(Le.jsxs)(Fe.a,{display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",children:[Object(Le.jsxs)(fe.a,{variant:"h4",color:"secondary.dark",className:t.subtotal,children:[" ","Subtotal: $".concat(m.toFixed(2))]}),Object(Le.jsxs)(Fe.a,{display:"flex",justifyContent:"center",alignItems:"center",children:[Object(Le.jsx)(ge.a,{variant:"contained",color:"primary",startIcon:Object(Le.jsx)(ir.a,{}),className:t.checkout,onClick:function(e){return function(e,t){return ie.apply(this,arguments)}(e,j)},children:"checkout"}),Object(Le.jsx)(ge.a,{variant:"contained",color:"primary",startIcon:Object(Le.jsx)(va.a,{}),className:t.checkout,onClick:function(e){return ce()},children:"clear cart"})]}),Object(Le.jsx)(Ht.a,{open:Y,anchorEl:Q,onClose:function(){return G(!1)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(Le.jsxs)(Fe.a,{p:2,children:[Object(Le.jsx)(fe.a,{children:"Sorry, we don't have enough stock of the following items"}),g.map((function(e){return Object(Le.jsxs)(fe.a,{children:["- ",e.name,", Actual stock: ",e.stock]})}))]})})]}),Object(Le.jsx)(It.a,{open:U,autoHideDuration:5e3,onClose:function(){W(!1)},variant:"filled",children:Object(Le.jsxs)(Rt.a,{onClose:function(){return W(!1)},severity:"error",children:["Sorry, our stock of ",null===w||void 0===w?void 0:w.name," is ",null===w||void 0===w?void 0:w.stock," EA"]})}),Object(Le.jsx)(It.a,{open:A,autoHideDuration:3e3,onClose:function(){return I(!1)},variant:"filled",children:Object(Le.jsx)(Rt.a,{onClose:function(){return I(!1)},severity:"error",children:"Please confirm yor active paid order, before modify the cart"})}),Object(Le.jsx)(It.a,{open:P,autoHideDuration:3e3,onClose:function(){return D(!1)},variant:"filled",children:Object(Le.jsx)(Rt.a,{onClose:function(){return D(!1)},severity:"error",children:"Please add products before the checkout"})}),Object(Le.jsx)(It.a,{open:B,autoHideDuration:3e3,onClose:function(){return L(!1)},variant:"filled",children:Object(Le.jsx)(Rt.a,{onClose:function(){return L(!1)},severity:"error",children:"Please log in to your account or create a new one to continue to the checkout"})}),Object(Le.jsx)(rt.a,{"aria-labelledby":"Product details","aria-describedby":"Product details",className:t.modal,open:X,onClose:function(){return $(!1)},closeAfterTransition:!0,BackdropComponent:ct.a,BackdropProps:{timeout:500},children:Object(Le.jsx)(it.a,{in:X,children:Object(Le.jsx)(Dr,{subtotal:m.toFixed(2)})})})]}):Object(Le.jsxs)(Fe.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[Object(Le.jsx)(fe.a,{align:"center",variant:"h3",color:"initial",children:" You dont`t have any product in the cart, go to the home and check our incredible products in our catalogue"}),Object(Le.jsx)(ge.a,{variant:"contained",color:"primary",startIcon:Object(Le.jsx)(Oa.a,{}),className:t.checkout,onClick:function(e){return r.push("/")},children:"home"})]})})}var zr=a(470),Br=a(168),Lr=Object(Br.a)({palette:{primary:{main:"#CE1212",dark:"#810000"},secondary:{main:"#EEEBDD",dark:"#1B1717"}}}),Mr=a(460),_r=Object(ke.a)((function(e){return{footerContainer:{},footer:Object(we.a)({width:"100%"},e.breakpoints.down("xs"),{width:"88%"}),logo:Object(we.a)({},e.breakpoints.down("xs"),{display:"none"}),boxResponsive:Object(we.a)({},e.breakpoints.down("xs"),{display:"none"})}})),Ur=function(){var e=_r();return Object(Le.jsx)(Fe.a,{className:e.footerContainer,children:Object(Le.jsx)(Fe.a,{px:{xs:3,sm:5},py:{xs:5,sm:5},bgcolor:"Black",color:"white",className:e.footer,children:Object(Le.jsx)(_e.a,{maxWidth:"lg",children:Object(Le.jsxs)(Ue.a,{container:!0,spacing:{xs:1,sm:3},children:[Object(Le.jsxs)(Ue.a,{item:!0,xs:5,sm:5,align:"center",children:[Object(Le.jsx)(Fe.a,{borderBottom:2,className:e.boxResponsive,children:"How can we help you?"}),Object(Le.jsx)(Fe.a,{children:Object(Le.jsx)(Mr.a,{href:"/contact",color:"inherit",children:"Contact"})})]}),Object(Le.jsxs)(Ue.a,{item:!0,xs:5,sm:5,align:"center",children:[Object(Le.jsx)(Fe.a,{borderBottom:2,className:e.boxResponsive,children:"About Us"}),Object(Le.jsx)(Fe.a,{children:Object(Le.jsx)(Mr.a,{href:"/devs",color:"inherit",children:"Devs"})})]}),Object(Le.jsx)(Ue.a,{item:!0,xs:2,sm:2,align:"center",children:Object(Le.jsx)(tt.a,{src:"https://assets.soyhenry.com/henry-landing/assets/LOGO-REDES-01_og.jpg"})})]})})})})},Wr=Object(ke.a)((function(e){return{root:Object(we.a)({borderRadius:e.shape.borderRadius},e.breakpoints.down("xs"),{backgroundColor:"white",height:"100%"}),container:{width:750,height:500,backgroundColor:e.palette.common.white,borderRadius:e.shape.borderRadius},height100:{height:"100%"},heightCardMedia:Object(we.a)({height:"100%"},e.breakpoints.down("xs"),{display:"none"})}})),Fr=a.p+"static/media/auth_bg.4723fa0c.png",Hr=a(485),Yr=Object(ke.a)((function(e){return{root:{height:"100%"},inputsContainer:{height:"100%"},input:{marginTop:25,width:250},button:{marginTop:25,width:120},forgotPassAnchor:{display:"block",width:"100%",marginTop:5,textAlign:"right"}}})),Gr=a(464),qr=a(166),Jr=a.n(qr),Qr=a(478);function Kr(){var e=Object(he.e)(),t=new Qr.a,a=Object(o.b)(),r=Object(n.useState)(!1),c=Object(pe.a)(r,2),i=c[0],s=c[1];return Object(Le.jsxs)(Fe.a,{children:[Object(Le.jsx)(Jr.a,{label:"Sign In with Google",style:{width:250},onClick:function(){return function(){var n=window.open("http://143.244.150.246/api/googleAuth/signin","blank","width=500,height=600");if(n)var r=setInterval(Object(Ie.a)(Ae.a.mark((function c(){var i,o,l;return Ae.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(!n.closed){c.next=13;break}if(i=t.get("jwt"),o=t.get("newUser"),l=JSON.parse(localStorage.getItem("cart")),!i){c.next=11;break}return o&&(t.remove("newUser"),l&&l.length>0&&a(ze("Bearer ".concat(i),l)),l||a(De("Bearer ".concat(i)))),o||a(Be("Bearer ".concat(i))),localStorage.setItem("jwt","Bearer ".concat(i)),t.remove("jwt"),e.push("/"),c.abrupt("return",clearInterval(r));case 11:s(!0),clearInterval(r);case 13:case"end":return c.stop()}}),c)}))),500)}()}}),Object(Le.jsx)(It.a,{open:i,autoHideDuration:3e3,onClose:function(){return s(!1)},variant:"filled",children:Object(Le.jsx)(Rt.a,{onClose:function(){return s(!1)},severity:"error",children:"We couldn't validate your account, please try again"})})]})}var Zr=Object(ke.a)((function(e){return{root:{height:"100%"},inputsContainer:{height:"100%"},input:{width:37,marginLeft:5},verifyButton:{marginTop:40,width:165},resendButon:{marginTop:5,width:165},backButton:{marginTop:24},popover:{marginTop:10}}})),Vr=a(362),Xr=a(461),$r=a(462),ec=a(463);function tc(e){var t=e.formInputs,a=e.setFormInputs,c=Zr(),i=Object(n.useRef)({}),s=Object(o.b)(),l=Object(o.c)((function(e){return Object(d.a)({},e.authenticationReducer)})),u=l.authMessage,j=l.twofa,b=Object(n.useState)({code1:"",code2:"",code3:"",code4:"",code5:"",code6:""}),p=Object(pe.a)(b,2),h=p[0],m=p[1],O=Object(n.useState)(!1),f=Object(pe.a)(O,2),x=f[0],g=f[1],v=Object(n.useState)(!1),C=Object(pe.a)(v,2),w=C[0],N=C[1],S=Object(n.useState)(""),R=Object(pe.a)(S,2),E=R[0],P=R[1],D=Object(n.useState)(!1),T=Object(pe.a)(D,2),z=T[0],B=T[1],L=Object(n.useState)(null),M=Object(pe.a)(L,2),_=M[0],U=M[1],W=Object(n.useState)(0),F=Object(pe.a)(W,2),H=F[0],Y=F[1],G=Object(n.useState)(null),q=Object(pe.a)(G,2),J=q[0],Q=q[1],K=Object(n.useState)(1),Z=Object(pe.a)(K,2),V=Z[0],X=Z[1],$=Object(n.useState)(!1),ee=Object(pe.a)($,2),te=ee[0],ae=ee[1],re=Object(n.useState)(!1),ce=Object(pe.a)(re,2),ie=ce[0],se=ce[1],oe=Object(n.useState)(!1),le=Object(pe.a)(oe,2),ue=le[0],de=le[1];Object(n.useEffect)((function(){i.current[1].children[0].children[0].focus()}),[]),Object(n.useEffect)((function(){var e=0;if(0===H){var t=function(){var t=setInterval((function(){if(e<90)return Y(e+=1);ae(!0),clearInterval(t)}),1e3);return t}();Q(t)}}),[H]),Object(n.useEffect)((function(){return u?N(!0):u?void 0:N(!1)}),[u]),Object(n.useEffect)((function(){j.attempts>3&&(se(!0),de(!0),s({type:k,payload:"Attempts limit reached, please sign in again"}),setTimeout((function(){return s({type:A})}),3e3))}),[j.attempts]);var je=function(e){var t=e.target.name[e.target.name.length-1];""===e.target.value&&(m(Object(d.a)(Object(d.a)({},h),{},Object(we.a)({},e.target.name,e.target.value))),t>1&&i.current["".concat(Number(t)-1)].children[0].children[0].focus()),/^(?:[1-9]\d*|\d)$/.test(e.target.value)&&(m(Object(d.a)(Object(d.a)({},h),{},Object(we.a)({},e.target.name,e.target.value))),t<6&&i.current["".concat(Number(t)+1)].children[0].children[0].focus())};function be(e){e.preventDefault();var a=Object.values(h).join("");return 6===a.length?(se(!0),setTimeout((function(){return se(!1)}),3e3),s(function(e,t){var a=JSON.parse(localStorage.getItem("cart"));return function(){var n=Object(Ie.a)(Ae.a.mark((function n(r){var c;return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ee.a.post("http://143.244.150.246/api/signin/twofa/email/confirm",Object(d.a)(Object(d.a)({},e),{},{localCart:a,code:t}));case 3:(c=n.sent).data.data.token&&(localStorage.removeItem("cart"),localStorage.setItem("jwt","Bearer ".concat(c.data.data.token)),r({type:y}),r({type:A}),c.data.data.cart&&r({type:ne,payload:c.data.data.cart})),n.next=15;break;case 7:if(n.prev=7,n.t0=n.catch(0),!n.t0.response||!n.t0.response.data.data.message){n.next=13;break}return r({type:k,payload:n.t0.response.data.data.message}),r({type:I}),n.abrupt("return",setTimeout((function(){return r({type:k,payload:""})}),3e3));case 13:return r({type:k,payload:"Sorry, we couldn`t connect to the server"}),n.abrupt("return",setTimeout((function(){return r({type:k,payload:""})}),3e3));case 15:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}(t,a))):(P("The code is not complete"),B(!0),U(e.currentTarget))}return Object(Le.jsx)(r.a.Fragment,{children:Object(Le.jsxs)(Fe.a,{display:"flex",flexDirection:"column",alignItems:"center",className:c.root,children:[Object(Le.jsx)(fe.a,{variant:"h4",color:"initial",children:"2FA Email"}),Object(Le.jsx)(Fe.a,{mt:6,mb:2,children:Object(Le.jsx)(fe.a,{variant:"body1",color:"initial",children:"We sent a 6-digit code to your email"})}),Object(Le.jsx)("form",{onSubmit:function(e){return be(e)},children:Object(Le.jsxs)(Fe.a,{display:"flex",flexDirection:"column",alignItems:"center",className:c.inputsContainer,children:[Object(Le.jsx)(Fe.a,{display:"flex",alignItems:"center",justifyContent:"space-between",children:Object.values(h).map((function(e,t){return Object(Le.jsx)(At.a,{ref:function(e){return i.current[t+1]=e},className:c.input,name:"code".concat(t+1),variant:"outlined",value:h["code".concat(t+1)],onChange:je,size:"small",inputProps:{maxLength:1}})}))}),Object(Le.jsx)(ge.a,{type:"submit",className:c.verifyButton,variant:"contained",color:"primary",startIcon:Object(Le.jsx)(Xr.a,{}),disabled:te||ie,children:"verify code"}),te&&Object(Le.jsx)(fe.a,{variant:"body2",align:"center",color:"primary",children:"Get a new code by clicking on the button below"}),Object(Le.jsx)(ge.a,{onClick:function(e){return function(e){if(X(V+1),m({code1:"",code2:"",code3:"",code4:"",code5:"",code6:""}),3===V)return de(!0),s({type:k,payload:"Resend attempts limit reached, please sign in again"}),setTimeout((function(){return s({type:A})}),3e3);ae(!1),clearInterval(J),Y(0),s(Pe(t)),g(!0)}()},className:c.resendButon,variant:"contained",color:"primary",startIcon:Object(Le.jsx)($r.a,{}),disabled:ue,children:"resend code"})]})}),Object(Le.jsxs)(Fe.a,{display:"flex",alignItems:"center",justifyContent:"center",width:"75%",mt:3,children:[Object(Le.jsx)(Fe.a,{width:"100%",mr:1,children:Object(Le.jsx)(Vr.a,{variant:"determinate",value:H/90*100})}),Object(Le.jsx)(Fe.a,{minWidth:35,children:Object(Le.jsx)(fe.a,{variant:"body2",color:"textSecondary",children:Da(H)})})]}),Object(Le.jsx)(Fe.a,{children:Object(Le.jsx)(ge.a,{onClick:function(e){return a(Pa),void s({type:A})},className:c.backButton,variant:"contained",color:"primary",startIcon:Object(Le.jsx)(ec.a,{}),children:"Back"})}),Object(Le.jsx)(Ht.a,{open:z,className:c.popover,anchorEl:_,onClose:function(){return B(!1)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(Le.jsx)(Fe.a,{p:2,children:E&&Object(Le.jsx)(fe.a,{color:"primary",children:E})})}),Object(Le.jsx)(It.a,{open:x,autoHideDuration:3e3,onClose:function(){return g(!1)},variant:"filled",children:Object(Le.jsx)(Rt.a,{onClose:function(){return g(!1)},severity:"success",children:"A new code was sent to your mail"})}),Object(Le.jsx)(It.a,{open:w,autoHideDuration:3e3,onClose:function(){return N(!1)},variant:"filled",children:Object(Le.jsx)(Rt.a,{onClose:function(){return N(!1)},severity:"error",children:u})})]})})}function ac(){var e=Yr(),t=Object(he.e)(),a=Object(o.b)(),c=Object(o.c)((function(e){return Object(d.a)({},e.authenticationReducer)})),i=c.logged,s=c.authMessage,l=c.twofa,u=r.a.useState({email:"",password:""}),j=Object(pe.a)(u,2),b=j[0],p=j[1],h=Object(n.useState)([]),m=Object(pe.a)(h,2),O=m[0],f=m[1],x=Object(n.useState)(!1),g=Object(pe.a)(x,2),v=g[0],y=g[1],C=Object(n.useState)(!1),w=Object(pe.a)(C,2),k=w[0],N=w[1],S=Object(n.useState)(!1),A=Object(pe.a)(S,2),I=A[0],R=A[1],E=Object(n.useState)(null),P=Object(pe.a)(E,2),T=P[0],z=P[1];Object(n.useEffect)((function(){i&&t.push("/")}),[i]),Object(n.useEffect)((function(){return s?N(!0):s?void 0:N(!1)}),[s]);var B=function(e){p(Object(d.a)(Object(d.a)({},b),{},Object(we.a)({},e.target.name,e.target.value)))};return Object(Le.jsx)(r.a.Fragment,{children:l.status?Object(Le.jsx)(tc,{formInputs:b,setFormInputs:p,setSuccesErrorsPopover:R,setErrorsArray:f,setSuccesErrorsPopoverAnchor:z}):Object(Le.jsxs)(Fe.a,{display:"flex",flexDirection:"column",alignItems:"center",className:e.root,children:[Object(Le.jsx)(fe.a,{variant:"h4",color:"initial",children:"Sign in"}),Object(Le.jsx)("form",{onSubmit:function(e){return function(e){e.preventDefault();var t=function(e){var t={},a=function(e){var t=[];if(e||t.push("A e-mail is required"),t.length>0)return t}(e.email);a&&(t.email=a);var n=function(e){var t=[];if(e||t.push("A password is required"),t.length>0)return t}(e.password);return n&&(t.password=n),t}(b);return 0===Object.keys(t).length?a(Pe(b)):(f(Object.values(t).reduce((function(e,t){return[].concat(Object(D.a)(e),Object(D.a)(t))}),[])),R(!0),z(e.currentTarget))}(e)},children:Object(Le.jsxs)(Fe.a,{display:"flex",flexDirection:"column",alignItems:"center",className:e.inputsContainer,children:[Object(Le.jsx)(At.a,{className:e.input,name:"email",label:"e-Mail",variant:"outlined",value:b.email,onChange:B,size:"small",type:"email"}),Object(Le.jsx)(At.a,{className:e.input,name:"password",label:"Password",variant:"outlined",value:b.password,onChange:B,size:"small",type:"password"}),Object(Le.jsx)(Mr.a,{className:e.forgotPassAnchor,href:"#",onClick:function(e){e.preventDefault(),t.push("/passwordReset")},children:"Forgot password?"}),Object(Le.jsx)(ge.a,{type:"submit",className:e.button,variant:"contained",color:"primary",startIcon:Object(Le.jsx)(Gr.a,{}),children:"sign in"}),Object(Le.jsx)(fe.a,{variant:"body1",children:" or "}),Object(Le.jsx)(Kr,{})]})}),Object(Le.jsx)(It.a,{open:v,autoHideDuration:3e3,onClose:function(){return y(!1)},variant:"filled",children:Object(Le.jsx)(Rt.a,{onClose:function(){return y(!1)},severity:"success",children:"Success login"})}),Object(Le.jsx)(It.a,{open:k,autoHideDuration:3e3,onClose:function(){return N(!1)},variant:"filled",children:Object(Le.jsx)(Rt.a,{onClose:function(){return N(!1)},severity:"error",children:s})}),Object(Le.jsx)(Ht.a,{open:I,anchorEl:T,onClose:function(){return R(!1)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(Le.jsx)(Fe.a,{p:2,children:O&&O.map((function(e){return Object(Le.jsxs)(fe.a,{children:["- ",e]})}))})})]})})}var nc=Object(ke.a)((function(e){return{root:{height:"100%"},inputsContainer:{height:"100%"},input:{marginTop:10,width:250},button:{marginTop:20,width:120}}})),rc=a(465);function cc(){var e=nc(),t=Object(he.e)(),a=Object(o.b)(),r=Object(o.c)((function(e){return Object(d.a)({},e.authenticationReducer)})),c=r.logged,i=r.authMessage,s=Object(n.useState)({name:"",lastName:"",email:"",password:"",confirmPassword:""}),l=Object(pe.a)(s,2),u=l[0],j=l[1],b=Object(n.useState)([]),p=Object(pe.a)(b,2),h=p[0],m=p[1],O=Object(n.useState)(!1),f=Object(pe.a)(O,2),x=f[0],g=f[1],y=Object(n.useState)(!1),C=Object(pe.a)(y,2),w=C[0],N=C[1],S=Object(n.useState)(!1),A=Object(pe.a)(S,2),I=A[0],R=A[1],E=Object(n.useState)(null),P=Object(pe.a)(E,2),T=P[0],z=P[1];Object(n.useEffect)((function(){c&&t.push("/")}),[c]),Object(n.useEffect)((function(){if(i)return N(!0)}),[i]);var B=function(e){j(Object(d.a)(Object(d.a)({},u),{},Object(we.a)({},e.target.name,e.target.value)))};function L(e){e.preventDefault();var t,n=function(e){var t={},a=function(e){var t=[];if(e||t.push("A name is required"),e&&!/^[A-Za-z]+$/.test(e)&&t.push("First name must contain only letters"),e&&!/^.{3,}$/.test(e)&&t.push("First name must be 3 characters long minimum"),t.length>0)return t}(e.name);a&&(t.name=a);var n=function(e){var t=[];if(e||t.push("A last name is required"),e&&!/^[A-Za-z]+$/.test(e)&&t.push("Last name must contain only letters"),e&&!/^.{3,}$/.test(e)&&t.push("Last name must be 3 characters long minimum"),t.length>0)return t}(e.lastName);n&&(t.lastName=n);var r=function(e){var t=[];if(e||t.push("A e-mail is required"),e&&!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)&&t.push("This is not an e-mail"),t.length>0)return t}(e.email);r&&(t.email=r);var c=function(e,t){var a=[];if(e||a.push("A password is required"),e&&!/^.{8,}$/.test(e)&&a.push("Password must be 8 characters long minimum"),e&&!/\d/.test(e)&&a.push("Password must contain at least one number"),e&&!/[A-Z]/.test(e)&&a.push("Password must contain at least an upper case"),e&&e!==t&&a.push("Passwords are different"),a.length>0)return a}(e.password,e.confirmPassword);return c&&(t.password=c),t}(u);if(0===Object.keys(n).length){var r=JSON.parse(localStorage.getItem("cart"));return a((t=Object(d.a)(Object(d.a)({},u),{},{cart:r}),function(){var e=Object(Ie.a)(Ae.a.mark((function e(a){var n;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee.a.post("http://143.244.150.246/api/signup",t);case 3:(n=e.sent).data.data.token&&(localStorage.removeItem("cart"),localStorage.setItem("jwt","Bearer ".concat(n.data.data.token)),a({type:v}),n.data.data.cart&&a({type:ne,payload:n.data.data.cart})),e.next=14;break;case 7:if(e.prev=7,e.t0=e.catch(0),!e.t0.response||!e.t0.response.data.data.message){e.next=12;break}return a({type:k,payload:e.t0.response.data.data.message}),e.abrupt("return",setTimeout((function(){return a({type:k,payload:""})}),4e3));case 12:return a({type:k,payload:"Sorry, we couldn`t connect to the server"}),e.abrupt("return",setTimeout((function(){return a({type:k,payload:""})}),4e3));case 14:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())),j(Ea)}return m(Object.values(n).reduce((function(e,t){return[].concat(Object(D.a)(e),Object(D.a)(t))}),[])),R(!0),z(e.currentTarget)}return Object(Le.jsxs)(Fe.a,{display:"flex",flexDirection:"column",alignItems:"center",className:e.root,children:[Object(Le.jsx)(fe.a,{variant:"h4",color:"initial",children:"Sign up"}),Object(Le.jsx)("form",{onSubmit:function(e){return L(e)},children:Object(Le.jsxs)(Fe.a,{display:"flex",flexDirection:"column",alignItems:"center",className:e.inputsContainer,children:[Object(Le.jsx)(At.a,{className:e.input,name:"name",label:"First name",variant:"outlined",value:u.name,onChange:B,size:"small"}),Object(Le.jsx)(At.a,{className:e.input,name:"lastName",label:"Last name",variant:"outlined",value:u.lastName,onChange:B,size:"small"}),Object(Le.jsx)(At.a,{className:e.input,name:"email",label:"e-Mail",variant:"outlined",value:u.email,onChange:B,size:"small",type:"email"}),Object(Le.jsx)(At.a,{className:e.input,name:"password",label:"Password",variant:"outlined",value:u.password,onChange:B,size:"small",type:"password"}),Object(Le.jsx)(At.a,{className:e.input,name:"confirmPassword",label:"Confirm Password",variant:"outlined",value:u.confirmPassword,onChange:B,size:"small",type:"password"}),Object(Le.jsx)(ge.a,{type:"submit",className:e.button,variant:"contained",color:"primary",startIcon:Object(Le.jsx)(rc.a,{}),children:"sign up"}),Object(Le.jsx)(fe.a,{variant:"body1",children:" or "}),Object(Le.jsx)(Kr,{})]})}),Object(Le.jsx)(It.a,{open:x,autoHideDuration:3e3,onClose:function(){return g(!1)},variant:"filled",children:Object(Le.jsx)(Rt.a,{onClose:function(){return g(!1)},severity:"success",children:"Success sign up"})}),Object(Le.jsx)(It.a,{open:w,autoHideDuration:3e3,onClose:function(){return N(!1)},variant:"filled",children:Object(Le.jsx)(Rt.a,{onClose:function(){return N(!1)},severity:"error",children:i})}),Object(Le.jsx)(Ht.a,{open:I,anchorEl:T,onClose:function(){return R(!1)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(Le.jsx)(Fe.a,{p:2,children:h&&h.map((function(e){return Object(Le.jsxs)(fe.a,{children:["- ",e]})}))})})]})}function ic(){var e=Wr(),t=Object(n.useState)(!1),a=Object(pe.a)(t,2),r=a[0],c=a[1];return Object(Le.jsx)(Fe.a,{bgcolor:"secondary.main",mt:{xs:1,sm:6},mb:{xs:6,sm:5},m:{xs:1,sm:5},p:{xs:1,sm:5},className:e.root,display:"flex",justifyContent:"center",alignItems:"center",children:Object(Le.jsx)(Ct.a,{className:e.container,elevation:24,variant:"elevation",children:Object(Le.jsxs)(Ue.a,{flexDirecion:"row",container:!0,display:"flex",justifyContent:"center",alignItems:"center",className:e.height100,children:[Object(Le.jsx)(Ue.a,{item:!0,md:6,className:e.heightCardMedia,children:Object(Le.jsx)(gt.a,{className:e.height100,children:Object(Le.jsx)(vt.a,{className:e.height100,title:"auth_left_side",image:Fr})})}),Object(Le.jsx)(Ue.a,{item:!0,xs:12,md:6,className:e.height100,children:Object(Le.jsx)(gt.a,{className:e.height100,children:Object(Le.jsx)(We.a,{className:e.height100,children:Object(Le.jsxs)(Fe.a,{className:e.height100,children:[Object(Le.jsxs)(Fe.a,{display:"flex",justifyContent:"flex-end",alignItems:"center",children:[Object(Le.jsx)(fe.a,{variant:"span",color:"initial",children:"Sign in"}),Object(Le.jsx)(Hr.a,{color:"primary",checked:r,onChange:function(){return c(!r)}}),Object(Le.jsx)(fe.a,{variant:"body1",color:"initial",children:"Sign up"})]}),r?Object(Le.jsx)(cc,{}):Object(Le.jsx)(ac,{})]})})})})]})})})}var sc=Object(ke.a)((function(e){return{root:{backgroundColor:e.palette.secondary.main,position:"absolute",top:0,zIndex:5,width:"100%",height:"100%"},title:{color:e.palette.success.main}}}));function oc(){var e=sc();return Object(n.useEffect)((function(){setTimeout((function(){window.close()}),2e3)}),[]),Object(Le.jsx)(Fe.a,{className:e.root,display:"flex",alignItems:"center",justifyContent:"center",children:Object(Le.jsx)(fe.a,{className:e.title,variant:"h3",color:"initial",children:"Successful authentication"})})}var lc=Object(ke.a)((function(e){return{root:{backgroundColor:e.palette.secondary.main,position:"absolute",top:0,zIndex:5,width:"100%",height:"100%"},title:{color:e.palette.error.main}}}));function uc(){var e=lc();return Object(Le.jsx)(Fe.a,{className:e.root,display:"flex",alignItems:"center",justifyContent:"center",children:Object(Le.jsx)(fe.a,{className:e.title,variant:"h3",color:"initial",children:"Sorry, we couldn't authenticate your account"})})}var dc=a(167),jc=a.n(dc),bc=Object(ke.a)((function(e){return{root:{width:"99%",borderRadius:e.shape.borderRadius,margin:8},container:{margin:40,width:750,backgroundColor:e.palette.secondary.main,borderRadius:e.shape.borderRadius,padding:8},emailInput:{marginLeft:8,width:"30ch"},inputBtn:{margin:10},description:{marginTop:16,marginLeft:10},passwordForm:{display:"flex",flexDirection:"column"},newPassInput:{width:"30ch"},submitBtn:{width:"25ch",marginTop:8}}}));var pc=function(){var e="http://143.244.150.246/api",t=bc(),a=Object(n.useState)(""),r=Object(pe.a)(a,2),c=r[0],i=r[1],s=Object(n.useState)(!1),o=Object(pe.a)(s,2),l=o[0],u=o[1],d=Object(n.useState)(!1),j=Object(pe.a)(d,2),b=j[0],p=j[1],h=Object(n.useState)(!1),m=Object(pe.a)(h,2),O=m[0],f=m[1],x=Object(n.useState)(""),g=Object(pe.a)(x,2),v=g[0],y=g[1],C=Object(n.useState)(""),w=Object(pe.a)(C,2),k=w[0],N=w[1],S=Object(n.useState)(""),A=Object(pe.a)(S,2),I=A[0],R=A[1],E=Object(n.useState)(!1),P=Object(pe.a)(E,2),D=P[0],T=P[1],z=Object(n.useState)(""),B=Object(pe.a)(z,2),L=B[0],M=B[1],_=Object(n.useState)(!1),U=Object(pe.a)(_,2),W=U[0],F=U[1],H=Object(he.e)(),Y=Object(he.f)(),G=function(){return H.push("/")},q=function(){var t=Object(Ie.a)(Ae.a.mark((function t(a){return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),jc.a.isEmail(c)?(Ee.a.post(e+"/passwordReset/getKey",{email:c}),p(!0),u(!1)):u(!0);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){var t=function(){var e=rr.a.parse(Y.search);return e.token?e.token:null}();return t&&(f(!0),Ee.a.post(e+"/passwordReset/verifyKey",{token:t}).then((function(e){var t=e.data;y(t.data.id),console.log(v)})).catch((function(e){u(!0),console.error(e)}))),function(){p(!1),u(!1),f(!1),y(""),T(!1),N(""),R(""),F(!1)}}),[]),Object(Le.jsx)(Fe.a,{display:"flex",flexDirection:"column",alignItems:"center",className:t.root,children:Object(Le.jsxs)(Ct.a,{className:t.container,children:[Object(Le.jsx)(fe.a,{variant:"h4",align:"center",children:"Forgot Password"}),O?l?Object(Le.jsxs)(Le.Fragment,{children:[Object(Le.jsx)(fe.a,{children:"This link is not valid, or expired"}),Object(Le.jsx)(ge.a,{variant:"contained",color:"primary",onClick:G,children:"Go home"})]}):W?Object(Le.jsxs)(Le.Fragment,{children:[Object(Le.jsx)(fe.a,{children:"Your password has been updated!"}),Object(Le.jsx)(ge.a,{variant:"contained",color:"primary",onClick:G,children:"Go home"})]}):Object(Le.jsxs)(Le.Fragment,{children:[Object(Le.jsx)(fe.a,{children:"Please enter your new password:"}),Object(Le.jsxs)("form",{className:t.passwordForm,children:[Object(Le.jsx)(At.a,{type:"password",value:k,variant:"outlined",label:"New password",margin:"dense",className:t.newPassInput,error:D,onChange:function(e){return N(e.target.value)}}),Object(Le.jsx)(At.a,{type:"password",value:I,variant:"outlined",label:"Confirm new password",margin:"dense",className:t.newPassInput,error:D,onChange:function(e){return R(e.target.value)}}),Object(Le.jsx)(fe.a,{children:L||" "}),Object(Le.jsx)(ge.a,{variant:"contained",color:"primary",className:t.submitBtn,onClick:function(){var t,a,n=(a=I,(t=k)?t&&!/^.{8,}$/.test(t)?"Password must be 8 characters long minimum":t&&!/\d/.test(t)?"Password must contain at least one number":t&&!/[A-Z]/.test(t)?"Password must contain at least an upper case":t&&t!==a?"Passwords are different":"":"A password is required");""===n?(M(""),Ee.a.put(e+"/passwordReset/updatePass",{userId:v,newPass:k}).then((function(){F(!0)})).catch((function(e){u(!0),F(!0)}))):M(n)},children:"Update password"})]})]}):Object(Le.jsxs)(Le.Fragment,{children:[Object(Le.jsx)(fe.a,{className:t.description,children:b?"If an account exists for this email, we'll send you a link to restore your password.":"Please enter the account's e-mail address you want to password reset."}),Object(Le.jsx)("form",{onSubmit:q,children:Object(Le.jsxs)(Fe.a,{children:[Object(Le.jsx)(At.a,{label:"Your account's email address",variant:"outlined",margin:"dense",className:t.emailInput,value:c,onChange:function(e){i(e.target.value)},error:l,helperText:l?"Please enter a valid email!":" ",autoComplete:"email"}),Object(Le.jsx)(ge.a,{variant:"contained",color:"primary",className:t.inputBtn,disabled:b,type:"submit",children:b?"Email sent!":"Reset Password"})]})})]})]})})},hc=a(466),mc=Object(ke.a)((function(e){return{root:{height:"100%",borderRadius:e.shape.borderRadius,margin:e.spacing(2)},inputsContainer:{height:"100%"},input:{marginTop:10,width:250},button:{marginTop:20,width:120}}}));var Oc={name:"",lastName:"",email:"",message:""},fc=function(){var e=mc(),t=Object(n.useState)({name:"",lastName:"",email:"",message:""}),a=Object(pe.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)([]),s=Object(pe.a)(i,2),o=s[0],l=s[1],u=Object(n.useState)(!1),j=Object(pe.a)(u,2),b=j[0],p=j[1],h=Object(n.useState)(!1),m=Object(pe.a)(h,2),O=m[0],f=m[1],x=Object(n.useState)(!1),g=Object(pe.a)(x,2),v=g[0],y=g[1],C=Object(n.useState)(null),w=Object(pe.a)(C,2),k=w[0],N=w[1],S=function(e){c(Object(d.a)(Object(d.a)({},r),{},Object(we.a)({},e.target.name,e.target.value)))};return Object(Le.jsxs)(Fe.a,{p:5,m:5,display:"flex",flexDirection:"column",alignItems:"center",bgcolor:"secondary.main",className:e.root,children:[Object(Le.jsx)(fe.a,{variant:"h4",color:"primary.dark",align:"center",children:"How can we help you?"}),Object(Le.jsx)("form",{onSubmit:function(e){return function(e){e.preventDefault();var t=function(e){var t={},a=function(e){var t=[];if(e||t.push("A name is required"),e&&!/^[A-Za-z]+$/.test(e)&&t.push("First name must contain only letters"),e&&!/^.{3,}$/.test(e)&&t.push("First name must be 3 characters long minimum"),t.length>0)return t}(e.name);a&&(t.name=a);var n=function(e){var t=[];if(e||t.push("A last name is required"),e&&!/^[A-Za-z]+$/.test(e)&&t.push("Last name must contain only letters"),e&&!/^.{3,}$/.test(e)&&t.push("Last name must be 3 characters long minimum"),t.length>0)return t}(e.lastName);n&&(t.lastName=n);var r=function(e){var t=[];if(e||t.push("A e-mail is required"),e&&!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)&&t.push("This is not an e-mail"),t.length>0)return t}(e.email);r&&(t.email=r);var c=function(e){var t=[];return e?(/^.{10,}$/.test(e)||t.push("Message must be 10 characters long minimum"),t.length>0?t:void 0):t.push("A message is required")}(e.message);return c&&(t.message=c),t}(r);return 0===Object.keys(t).length?(Ee.a.post("http://143.244.150.246/api/reviews/message",Object(d.a)({},r)),c(Oc)):(l(Object.values(t).reduce((function(e,t){return[].concat(Object(D.a)(e),Object(D.a)(t))}),[])),y(!0),N(e.currentTarget))}(e)},children:Object(Le.jsxs)(Fe.a,{display:"flex",flexDirection:"column",alignItems:"center",className:e.inputsContainer,children:[Object(Le.jsx)(At.a,{className:e.input,name:"name",label:"First name",variant:"outlined",value:r.name,onChange:S,size:"small"}),Object(Le.jsx)(At.a,{className:e.input,name:"lastName",label:"Last name",variant:"outlined",value:r.lastName,onChange:S,size:"small"}),Object(Le.jsx)(At.a,{className:e.input,name:"email",label:"e-Mail",variant:"outlined",value:r.email,onChange:S,size:"small",type:"email"}),Object(Le.jsx)(At.a,{className:e.input,name:"message",label:"Leave us a message. Max 150 characters",variant:"outlined",value:r.message,onChange:S,multiline:!0,rowsMax:4,inputProps:{maxLength:150}}),Object(Le.jsx)(ge.a,{type:"submit",className:e.button,variant:"contained",color:"primary",startIcon:Object(Le.jsx)(hc.a,{}),children:"Send"})]})}),Object(Le.jsx)(It.a,{open:b,autoHideDuration:3e3,onClose:function(){return p(!1)},variant:"filled",children:Object(Le.jsx)(Rt.a,{onClose:function(){return p(!1)},severity:"success",children:"Your message has been sent"})}),Object(Le.jsx)(It.a,{open:O,autoHideDuration:3e3,onClose:function(){return f(!1)},variant:"filled",children:Object(Le.jsx)(Rt.a,{onClose:function(){return f(!1)},severity:"error",children:"Not in my house."})}),Object(Le.jsx)(Ht.a,{open:v,anchorEl:k,onClose:function(){return y(!1)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(Le.jsx)(Fe.a,{p:2,children:o&&o.map((function(e){return Object(Le.jsxs)(fe.a,{children:["- ",e]})}))})})]})},xc=Object(ke.a)((function(e){return{root:{width:"96%",padding:e.spacing(3),alignItems:"center"},devsCard:{"&:hover":{background:e.palette.secondary.main,opacity:"90%"}},gridContainer:Object(we.a)({backgroundColor:e.palette.secondary.dark,boxShadow:"1px 1px 15px -1px rgba(0,0,0,0.6)",width:"90%",display:"flex",flexDirection:"row",alignItems:"center",padding:"15px",borderRadius:"10px",margin:e.spacing(2)},e.breakpoints.down("xs"),{flexDirection:"column",margin:0})}})),gc=Object(ke.a)((function(e){return{root:Object(we.a)({maxWidth:800},e.breakpoints.down("xs"),{maxWidth:270}),media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:e.palette.primary.dark}}})),vc=a(4),yc=a(467),Cc=a(468),wc=a(469);function kc(e){var t=e.props,a=t.flag,r=t.title,c=t.devs,i=gc(),s=Object(n.useState)(!1),o=Object(pe.a)(s,2),l=o[0],u=o[1];return Object(Le.jsxs)(gt.a,{className:i.root,children:[Object(Le.jsx)(yc.a,{avatar:Object(Le.jsx)(tt.a,{"aria-label":"lav",className:i.avatar,children:r[0]}),title:r}),Object(Le.jsx)(vt.a,{className:i.media,image:a,title:"country flag"}),Object(Le.jsxs)(Cc.a,{disableSpacing:!0,children:[Object(Le.jsxs)(fe.a,{paragraph:!0,children:["Developers from ",r,":"]}),Object(Le.jsx)(St.a,{className:Object(vc.a)(i.expand,Object(we.a)({},i.expandOpen,l)),onClick:function(){u(!l)},"aria-expanded":l,"aria-label":"show more",children:Object(Le.jsx)(wc.a,{})})]}),Object(Le.jsx)(ra.a,{in:l,timeout:"auto",unmountOnExit:!0,children:Object(Le.jsx)(We.a,{children:c&&c.map((function(e){return Object(Le.jsx)(fe.a,{paragraph:!0,children:Object(Le.jsx)(Mr.a,{color:"inherit",onClick:function(){return window.open(e.linkedinURL)},children:e.name})})}))})})]})}var Nc=[{id:1,data:{title:"Argentina",flag:a.p+"static/media/ArgFlag.62013233.png",devs:[{name:"Baeza Mariano",linkedinURL:"https://www.linkedin.com/in/mariano-baeza-brandauer-8649871bb/"},{name:"Basili Pablo",linkedinURL:"https://www.linkedin.com/in/basilipablo/"},{name:"Le\xf3n Federico",linkedinURL:"https://www.linkedin.com/in/federico-leon/"},{name:"Nu\xf1ez Nicol\xe1s",linkedinURL:"https://www.linkedin.com/in/nu%C3%B1ezdev/"},{name:"Radicella Theo",linkedinURL:"https://www.linkedin.com/in/theoradicella/"},{name:"Rosales Federico",linkedinURL:"https://www.linkedin.com/in/federico-rosales96/"}]}},{id:2,data:{title:"Colombia",flag:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARMAAAC3CAMAAAAGjUrGAAAAG1BMVEX80RbOESYAOJP/1QmjkmIALpYAOpixHEbQECLYcuK2AAAA0klEQVR4nO3QsQGCABAAsRcE3X9i+r+WMhkhMwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC852ebLNhfbHGxOykk5KSflpJyUk3JSTspJOSkn5aSclJNyUk7KSTkpJ+WknJSTclJOykk5KSflpJyUk3JSTspJOSkn5aSclJNyUk7KSc3NNj+2+bPNh81JOSkn5aSclJNyUk7KSTkpJ+WknJSTclJOykk5KSflpJyUk3JSTspJOSkn5aSclJNyUk7KSTkpJ+WknJSTclJOykk5KSf1AHEKrxrr7OT9AAAAAElFTkSuQmCC",devs:[{name:"Vivas David",linkedinURL:"https://www.linkedin.com/in/christiandavidvivas7/"}]}},{id:3,data:{title:"M\xe9xico",flag:a.p+"static/media/MexFlag.df317caf.png",devs:[{name:"Montero Antonio",linkedinURL:"https://www.linkedin.com/404?_l=en_US"}]}}];function Sc(){var e=xc();return Object(Le.jsx)(Fe.a,{bgcolor:"secondary.main",className:e.root,children:Object(Le.jsx)(Ue.a,{container:!0,spacing:5,className:e.gridContainer,children:Nc?Nc.map((function(t){return Object(Le.jsx)(Ue.a,{item:!0,xs:12,sm:12/Nc.length,className:e.devsCard,children:Object(Le.jsx)(kc,{props:t.data})},t.id)})):Object(Le.jsx)(Ue.a,{item:!0,children:Object(Le.jsx)(fe.a,{variant:"h5",color:"primary",children:"No Devs availables"})})})})}function Ac(){return Object(Le.jsxs)(zr.a,{theme:Lr,children:[Object(Le.jsx)(he.a,{path:"/",render:function(){return Object(Le.jsx)(Me,{})}}),Object(Le.jsx)(he.a,{exact:!0,path:"/",render:function(){return Object(Le.jsx)(ar,{})}}),Object(Le.jsx)(he.a,{exact:!0,path:"/user",render:function(){return Object(Le.jsx)(Wa,{})}}),Object(Le.jsx)(he.a,{exact:!0,path:"/admin",render:function(){return Object(Le.jsx)(Sn,{})}}),Object(Le.jsx)(he.a,{exact:!0,path:"/cart",render:function(){return Object(Le.jsx)(Tr,{})}}),Object(Le.jsx)(he.a,{exact:!0,path:"/authentication",render:function(){return Object(Le.jsx)(ic,{})}}),Object(Le.jsx)(he.a,{exact:!0,path:"/passwordReset",render:function(){return Object(Le.jsx)(pc,{})}}),Object(Le.jsx)(he.a,{exact:!0,path:"/contact",render:function(){return Object(Le.jsx)(fc,{})}}),Object(Le.jsx)(he.a,{exact:!0,path:"/devs",render:function(){return Object(Le.jsx)(Sc,{})}}),Object(Le.jsx)(he.a,{path:"/authentication/google/success",render:function(){return Object(Le.jsx)(oc,{})}}),Object(Le.jsx)(he.a,{path:"/authentication/google/error",render:function(){return Object(Le.jsx)(uc,{})}}),Object(Le.jsx)(he.a,{path:"/",render:function(){return Object(Le.jsx)(Ur,{})}})]})}i.a.render(Object(Le.jsx)(r.a.StrictMode,{children:Object(Le.jsx)(o.a,{store:be,children:Object(Le.jsx)(s.a,{children:Object(Le.jsx)(Ac,{})})})}),document.getElementById("root"))}},[[357,1,2]]]);
//# sourceMappingURL=main.f5a29b62.chunk.js.map